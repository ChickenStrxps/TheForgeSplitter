<script>document.write(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CjxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgo8dGl0bGU+Rm9yZ2UgTWFzdGVyOiBEeW5hbWljIFNjYW5uZXIgdjQ8L3RpdGxlPgo8c2NyaXB0IHNyYz0iaHR0cHM6Ly91bnBrZy5jb20vdGVzc2VyYWN0LmpzQHYyLjEuMC9kaXN0L3Rlc3NlcmFjdC5taW4uanMiPjwvc2NyaXB0Pgo8c3R5bGU+CiAgICA6cm9vdCB7CiAgICAgICAgLS1iZzogIzBkMTExNzsKICAgICAgICAtLXBhbmVsOiAjMTYxYjIyOwogICAgICAgIC0tYm9yZGVyOiAjMzAzNjNkOwogICAgICAgIC0tYWNjZW50OiAjZDI5OTIyOyAKICAgICAgICAtLXRleHQ6ICNjOWQxZDk7CiAgICAgICAgLS10ZXh0LW11dGVkOiAjOGI5NDllOwogICAgICAgIC0tc3VjY2VzczogIzIzODYzNjsKICAgICAgICAtLWRhbmdlcjogI2RhMzYzMzsKICAgICAgICAtLW51bS1jb2xvcjogIzNmYjk1MDsKICAgICAgICAtLW5hbWUtY29sb3I6ICM1OGE2ZmY7CiAgICB9CgogICAgKiB7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7IH0KICAgIAogICAgYm9keSB7IAogICAgICAgIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgMjAlIDIwJSwgcmdiYSg4OCwxNjYsMjU1LDAuMDgpLCB0cmFuc3BhcmVudCAyNSUpLCAKICAgICAgICAgICAgICAgICAgICByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDgwJSAxMCUsIHJnYmEoMjEwLDE1MywzNCwwLjA4KSwgdHJhbnNwYXJlbnQgMjUlKSwKICAgICAgICAgICAgICAgICAgICByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IDUwJSA5MCUsIHJnYmEoNjMsMTg1LDgwLDAuMDUpLCB0cmFuc3BhcmVudCAyNSUpLAogICAgICAgICAgICAgICAgICAgIHZhcigtLWJnKTsKICAgICAgICBjb2xvcjogdmFyKC0tdGV4dCk7IG1hcmdpbjogMDsgcGFkZGluZzogMjBweDsgCiAgICB9CgogICAgLmNvbnRhaW5lciB7CiAgICAgICAgbWF4LXdpZHRoOiAxNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciA0NTBweDsgZ2FwOiAyMHB4OwogICAgfQoKICAgIEBtZWRpYSAobWF4LXdpZHRoOiAxMjAwcHgpIHsgLmNvbnRhaW5lciB7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOyB9IH0KCiAgICBoMSwgaDIsIGgzIHsgbWFyZ2luOiAwIDAgMTBweCAwOyBjb2xvcjogI2ZmZjsgfQogICAgaDIgeyBmb250LXNpemU6IDEuMXJlbTsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IHBhZGRpbmctYm90dG9tOiA4cHg7IG1hcmdpbi1ib3R0b206IDE1cHg7IH0KCiAgICAucGFuZWwgewogICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHJnYmEoMjIsMjcsMzQsMC45KSwgcmdiYSgxMCwxMiwxNiwwLjkpKTsKICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMDQpOyAKICAgICAgICBib3gtc2hhZG93OiAwIDEwcHggMzBweCByZ2JhKDAsMCwwLDAuNDUpOwogICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7IHBhZGRpbmc6IDE1cHg7IG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICB9CgogICAgLmRyb3Atem9uZSB7CiAgICAgICAgYm9yZGVyOiAycHggZGFzaGVkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6IDEwcHg7IHBhZGRpbmc6IDQwcHg7IAogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsgY3Vyc29yOiBwb2ludGVyOyB0cmFuc2l0aW9uOiAwLjJzOyAKICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMDMpOwogICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICB9CiAgICAuZHJvcC16b25lOmhvdmVyIHsgYm9yZGVyLWNvbG9yOiB2YXIoLS1hY2NlbnQpOyBiYWNrZ3JvdW5kOiByZ2JhKDIxMCwgMTUzLCAzNCwgMC4xMik7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTsgfQogICAgCiAgICAjcHJldmlldy1jb250YWluZXIgeyAKICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7IAogICAgICAgIHdpZHRoOiAxMDAlOyAKICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyAKICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7IAogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgYmFja2dyb3VuZDogIzAwMDsKICAgICAgICBkaXNwbGF5OiBub25lOyAKICAgIH0KICAgIAogICAgI3ByZXZpZXctaW1nIHsgd2lkdGg6IDEwMCU7IGRpc3BsYXk6IGJsb2NrOyB1c2VyLXNlbGVjdDogbm9uZTsgfQogICAgCiAgICAub3ZlcmxheS1ncmlkIHsgCiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IHBvaW50ZXItZXZlbnRzOiBub25lOyAKICAgIH0KICAgIAogICAgLyogVGhlIG1haW4gZ3JpZCBjZWxsIChSZWQpICovCiAgICAuZ3JpZC1ib3ggewogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgCiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDUwLCA1MCwgMC4zKTsgCiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDUwLCA1MCwgMC4wMik7CiAgICAgICAgei1pbmRleDogMTA7CiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7IAogICAgfQogICAgCiAgICAvKiBTY2FubmVyIEJveGVzICovCiAgICAuc2Nhbi1ib3ggewogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICB6LWluZGV4OiAyMDsKICAgICAgICBwb2ludGVyLWV2ZW50czogYXV0bzsKICAgICAgICBib3gtc2hhZG93OiAwIDAgMnB4IHJnYmEoMCwwLDAsMC44KTsKICAgICAgICBjdXJzb3I6IGNyb3NzaGFpcjsKICAgIH0KICAgIAogICAgLnNjYW4tbnVtIHsgYm9yZGVyOiAycHggc29saWQgdmFyKC0tbnVtLWNvbG9yKTsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg2MywgMTg1LCA4MCwgMC4xNSk7IH0KICAgIC5zY2FuLW5hbWUgeyBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1uYW1lLWNvbG9yKTsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg4OCwgMTY2LCAyNTUsIDAuMTUpOyB9CgogICAgLyogRHJhZyBNb2RlIFN0eWxlcyAqLwogICAgLmRyYWctbW9kZSAuc2Nhbi1ib3ggeyBjdXJzb3I6IG1vdmU7IHBvaW50ZXItZXZlbnRzOiBhbGw7IH0KICAgIC5kcmFnLW1vZGUgLnNjYW4tYm94OmhvdmVyIHsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpOyBib3JkZXItd2lkdGg6IDJweDsgfQogICAgLmRyYWctbW9kZSAuZ3JpZC1ib3ggeyBib3JkZXItY29sb3I6IHJnYmEoMjU1LCA1MCwgNTAsIDAuMSk7IHBvaW50ZXItZXZlbnRzOiBub25lOyB9CgogICAgLyogRmluZSBUdW5lIE1vZGUgU3R5bGVzICovCiAgICAuZmluZXR1bmUtbW9kZSAuZ3JpZC1ib3ggeyBwb2ludGVyLWV2ZW50czogYWxsOyBjdXJzb3I6IHBvaW50ZXI7IH0KICAgIC5maW5ldHVuZS1tb2RlIC5ncmlkLWJveDpob3ZlciB7IGJhY2tncm91bmQ6IHJnYmEoMjU1LCA1MCwgNTAsIDAuMSk7IGJvcmRlci1jb2xvcjogcmdiYSgyNTUsNTAsNTAsMC44KTsgfQogICAgLmZpbmV0dW5lLW1vZGUgLnNjYW4tYm94IHsgcG9pbnRlci1ldmVudHM6IG5vbmU7IH0KCiAgICAuc2Nhbm5pbmcgLnNjYW4tbnVtLCAuc2Nhbm5pbmcgLnNjYW4tbmFtZSB7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpOwogICAgICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4ICNmZmY7CiAgICB9CgogICAgLyogQ29udHJvbHMgKi8KICAgIC5jb250cm9sLWdyb3VwIHsgbWFyZ2luLWJvdHRvbTogMTVweDsgcGFkZGluZy1ib3R0b206IDE1cHg7IGJvcmRlci1ib3R0b206IDFweCBkYXNoZWQgdmFyKC0tYm9yZGVyKTsgfQogICAgLnNsaWRlci1yb3cgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBtYXJnaW4tYm90dG9tOiA2cHg7IH0KICAgIC5zbGlkZXItcm93IGxhYmVsIHsgd2lkdGg6IDYwcHg7IGZvbnQtc2l6ZTogMC44cmVtOyBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7IH0KICAgIC5zbGlkZXItcm93IGlucHV0IHsgZmxleDogMTsgY3Vyc29yOiBwb2ludGVyOyB9CiAgICAuc2xpZGVyLXZhbCB7IHdpZHRoOiAzMHB4OyB0ZXh0LWFsaWduOiByaWdodDsgZm9udC1zaXplOiAwLjc1cmVtOyBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7IH0KCiAgICAubW9kZS10b2dnbGUgeyBkaXNwbGF5OiBmbGV4OyBnYXA6IDEwcHg7IG1hcmdpbi1ib3R0b206IDE1cHg7IGJhY2tncm91bmQ6ICMwYzExMTg7IHBhZGRpbmc6IDZweDsgYm9yZGVyLXJhZGl1czogMTBweDsgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjA1KTsgfQogICAgLm1vZGUtYnRuIHsgZmxleDogMTsgcGFkZGluZzogMTBweDsgYmFja2dyb3VuZDogIzE2MWIyMjsgY29sb3I6ICM4ODg7IGJvcmRlcjogMXB4IHNvbGlkICMyZDMzM2I7IGN1cnNvcjogcG9pbnRlcjsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtc2l6ZTogMC45cmVtOyB0cmFuc2l0aW9uOiBhbGwgMC4xNXMgZWFzZTsgfQogICAgLm1vZGUtYnRuLmFjdGl2ZSB7IGJhY2tncm91bmQ6IHZhcigtLWFjY2VudCk7IGNvbG9yOiAjMTYxYjIyOyBmb250LXdlaWdodDogYm9sZDsgYm9yZGVyLWNvbG9yOiB2YXIoLS1hY2NlbnQpOyBib3gtc2hhZG93OiAwIDZweCAxOHB4IHJnYmEoMjEwLDE1MywzNCwwLjM1KTsgfQogICAgLm1vZGUtYnRuOmhvdmVyIHsgY29sb3I6ICNmZmY7IGJvcmRlci1jb2xvcjogcmdiYSgyNTUsMjU1LDI1NSwwLjEpOyB9CgogICAgLyogTW9kYWwgKi8KICAgIC5tb2RhbCB7CiAgICAgICAgcG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IAogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44KTsgei1pbmRleDogMTAwOyAKICAgICAgICBkaXNwbGF5OiBub25lOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIH0KICAgIC5tb2RhbC1jb250ZW50IHsKICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wYW5lbCk7IHBhZGRpbmc6IDI1cHg7IGJvcmRlci1yYWRpdXM6IDhweDsgCiAgICAgICAgd2lkdGg6IDk1JTsgbWF4LXdpZHRoOiA1MDBweDsgYm94LXNoYWRvdzogMCAxMHB4IDMwcHggcmdiYSgwLDAsMCwwLjgpOwogICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7CiAgICB9CiAgICAKICAgIC5tb2RhbC10YWJzIHsgZGlzcGxheTogZmxleDsgZ2FwOiAxMHB4OyBtYXJnaW4tYm90dG9tOiAxNXB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsgcGFkZGluZy1ib3R0b206IDEwcHg7fQogICAgLnRhYi1idG4geyBiYWNrZ3JvdW5kOiBub25lOyBib3JkZXI6IG5vbmU7IGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTsgcGFkZGluZzogNXB4IDEwcHg7IGN1cnNvcjogcG9pbnRlcjsgYm9yZGVyLXJhZGl1czogNHB4OyB9CiAgICAudGFiLWJ0bi5hY3RpdmUgeyBiYWNrZ3JvdW5kOiB2YXIoLS1ib3JkZXIpOyBjb2xvcjogI2ZmZjsgZm9udC13ZWlnaHQ6IGJvbGQ7IH0KICAgIC50YWItYnRuLmdyZWVuIHsgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHZhcigtLW51bS1jb2xvcik7IH0KICAgIC50YWItYnRuLmJsdWUgeyBib3JkZXItYm90dG9tOiAycHggc29saWQgdmFyKC0tbmFtZS1jb2xvcik7IH0KCiAgICAucHJldmlldy1jYW52YXMtd3JhcHBlciB7CiAgICAgICAgZGlzcGxheTogZmxleDsgZ2FwOiAxMHB4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYmFja2dyb3VuZDogIzAwMDsgcGFkZGluZzogMTBweDsgYm9yZGVyLXJhZGl1czogNHB4OyBtYXJnaW46IDEwcHggMDsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyKTsKICAgIH0KICAgIGNhbnZhcyB7IGJvcmRlcjogMXB4IHNvbGlkICMzMzM7IH0KCiAgICAvKiBHZW5lcmFsIFVJICovCiAgICBidXR0b24gewogICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFjY2VudCk7IGNvbG9yOiAjMTYxYjIyOyBib3JkZXI6IG5vbmU7IHBhZGRpbmc6IDEwcHggMTVweDsgYm9yZGVyLXJhZGl1czogMTBweDsgY3Vyc29yOiBwb2ludGVyOyBmb250LXdlaWdodDogYm9sZDsgd2lkdGg6IDEwMCU7CiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMTJzIGVhc2UsIGJveC1zaGFkb3cgMC4xMnMgZWFzZSwgZmlsdGVyIDAuMTJzIGVhc2U7CiAgICB9CiAgICBidXR0b246aG92ZXIgeyBmaWx0ZXI6IGJyaWdodG5lc3MoMS4wNSk7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTsgYm94LXNoYWRvdzogMCA2cHggMTZweCByZ2JhKDAsMCwwLDAuMzUpOyB9CiAgICBidXR0b24uc2Vjb25kYXJ5IHsgYmFja2dyb3VuZDogIzFkMjYzMzsgY29sb3I6IHZhcigtLXRleHQpOyBmb250LXdlaWdodDogbm9ybWFsOyBib3JkZXI6IDFweCBzb2xpZCAjMmQzYTRhOyB9CiAgICBidXR0b24uc2Vjb25kYXJ5OmhvdmVyIHsgZmlsdGVyOiBicmlnaHRuZXNzKDEuMSk7IH0KICAgIGJ1dHRvbi5zdWNjZXNzIHsgYmFja2dyb3VuZDogdmFyKC0tc3VjY2Vzcyk7IGNvbG9yOiAjZmZmOyB9CiAgICAKICAgIHRhYmxlIHsgd2lkdGg6IDEwMCU7IGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7IGZvbnQtc2l6ZTogMC45cmVtOyB9CiAgICB0ZCwgdGggeyBwYWRkaW5nOiA4cHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyB0ZXh0LWFsaWduOiBsZWZ0OyB9CiAgICB0aCB7IGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTsgZm9udC13ZWlnaHQ6IG5vcm1hbDsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjAyKTsgfQogICAgdHI6aG92ZXIgdGQgeyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMDIpOyB9CgogICAgLyogRWRpdGFibGUgSW5wdXRzIGluIFRhYmxlICovCiAgICAuZWRpdC1pbnB1dCB7CiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50OyBjb2xvcjogI2ZmZjsgd2lkdGg6IDEwMCU7IHBhZGRpbmc6IDRweDsgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgIGZvbnQtZmFtaWx5OiBpbmhlcml0OyBmb250LXNpemU6IGluaGVyaXQ7CiAgICB9CiAgICAuZWRpdC1pbnB1dDpob3ZlciB7IGJvcmRlci1jb2xvcjogIzQ0NDsgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjA1KTsgfQogICAgLmVkaXQtaW5wdXQ6Zm9jdXMgeyBib3JkZXItY29sb3I6IHZhcigtLWFjY2VudCk7IGJhY2tncm91bmQ6ICMwMDA7IG91dGxpbmU6IG5vbmU7IH0KICAgIAogICAgLnJlbW92ZS1yb3cgeyBjb2xvcjogdmFyKC0tZGFuZ2VyKTsgY3Vyc29yOiBwb2ludGVyOyBmb250LXdlaWdodDogYm9sZDsgcGFkZGluZzogMCA1cHg7IH0KICAgIC5hZGQtcm93LWJ0biB7IG1hcmdpbi10b3A6IDEwcHg7IGJvcmRlcjogMXB4IGRhc2hlZCB2YXIoLS1ib3JkZXIpOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpOyB9CiAgICAuYWRkLXJvdy1idG46aG92ZXIgeyBib3JkZXItY29sb3I6IHZhcigtLWFjY2VudCk7IGNvbG9yOiB2YXIoLS1hY2NlbnQpOyBiYWNrZ3JvdW5kOiByZ2JhKDIxMCwgMTUzLCAzNCwgMC4wNSk7IH0KCiAgICAudG9nZ2xlLXJvdyB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDFmcik7IGdhcDogOHB4OyBtYXJnaW4tdG9wOiA4cHg7IGZvbnQtc2l6ZTogMC44NXJlbTsgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpOyB9CiAgICAudG9nZ2xlLXJvdyBsYWJlbCB7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogNnB4OyBjdXJzb3I6IHBvaW50ZXI7IHBhZGRpbmc6IDZweCA4cHg7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4wMik7IGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4wNCk7IGJvcmRlci1yYWRpdXM6IDhweDsgfQogICAgLnRvZ2dsZS1yb3cgaW5wdXQgeyBhY2NlbnQtY29sb3I6IHZhcigtLWFjY2VudCk7IGN1cnNvcjogcG9pbnRlcjsgfQoKICAgIC8qIFJlZmVyZW5jZSBkcmF3ZXIgKi8KICAgIC5pbmRleC10b2dnbGUgewogICAgICAgIHBvc2l0aW9uOiBmaXhlZDsgYm90dG9tOiAxNnB4OyByaWdodDogMTZweDsKICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQpOyBjb2xvcjogIzAwMDsgcGFkZGluZzogMTBweCAxNHB4OyBib3JkZXItcmFkaXVzOiA5OTlweDsKICAgICAgICBmb250LXdlaWdodDogYm9sZDsgY3Vyc29yOiBwb2ludGVyOyBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwwLDAsMC40KTsKICAgICAgICB6LWluZGV4OiAyMDA7CiAgICB9CiAgICAuaW5kZXgtZHJhd2VyIHsKICAgICAgICBwb3NpdGlvbjogZml4ZWQ7IGJvdHRvbTogNjRweDsgcmlnaHQ6IDE2cHg7IHdpZHRoOiAzMjBweDsKICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wYW5lbCk7IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgYm94LXNoYWRvdzogMCAxMnB4IDMwcHggcmdiYSgwLDAsMCwwLjU1KTsgZGlzcGxheTogbm9uZTsgei1pbmRleDogMTkwOwogICAgfQogICAgLmluZGV4LWRyYXdlci5zaG93IHsgZGlzcGxheTogYmxvY2s7IH0KICAgIC5pbmRleC1oZWFkZXIgeyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IHBhZGRpbmc6IDEwcHggMTJweDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7IGZvbnQtd2VpZ2h0OiBib2xkOyB9CiAgICAuaW5kZXgtY29udGVudCB7IG1heC1oZWlnaHQ6IDcwdmg7IG92ZXJmbG93LXk6IGF1dG87IHBhZGRpbmc6IDEwcHggMTJweDsgfQogICAgLmluZGV4LXNlY3Rpb24geyBtYXJnaW4tYm90dG9tOiAxMnB4OyB9CiAgICAuaW5kZXgtdGl0bGUgeyBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7IGZvbnQtc2l6ZTogMC44NXJlbTsgbWFyZ2luLWJvdHRvbTogNnB4OyBsZXR0ZXItc3BhY2luZzogMC4wNWVtOyB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyB9CiAgICAuaW5kZXgtcm93IHsgcGFkZGluZzogNnB4IDA7IGJvcmRlci1ib3R0b206IDFweCBkb3R0ZWQgdmFyKC0tYm9yZGVyKTsgfQogICAgLmluZGV4LXJvdzpsYXN0LWNoaWxkIHsgYm9yZGVyLWJvdHRvbTogbm9uZTsgfQogICAgLmluZGV4LXJvdyAudGFnIHsgY29sb3I6IHZhcigtLWFjY2VudCk7IGZvbnQtc2l6ZTogMC43NXJlbTsgbWFyZ2luLWxlZnQ6IDZweDsgfQogICAgLmluZGV4LXJvdyAuc3ViIHsgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpOyBmb250LXNpemU6IDAuOHJlbTsgfQogICAgLmluZGV4LWNsb3NlIHsgY3Vyc29yOiBwb2ludGVyOyBjb2xvcjogdmFyKC0tdGV4dC1tdXRlZCk7IH0KCiAgICAvKiBTaWduYXR1cmUgKi8KICAgIC5zaWduYXR1cmUgewogICAgICAgIHBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMTZweDsgYm90dG9tOiAxNnB4OyB6LWluZGV4OiAyNTA7CiAgICAgICAgY29sb3I6ICM0ZWExZmY7IGZvbnQtd2VpZ2h0OiBib2xkOyBsZXR0ZXItc3BhY2luZzogMC4wNWVtOwogICAgICAgIHRleHQtc2hhZG93OiAwIDAgNnB4IHJnYmEoNzgsMTYxLDI1NSwwLjgpLCAwIDAgMTRweCByZ2JhKDc4LDE2MSwyNTUsMC42KTsKICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsgcG9pbnRlci1ldmVudHM6IG5vbmU7IGZvbnQtc2l6ZTogMC45NXJlbTsKICAgIH0KPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KCjxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgICAKICAgIDxkaXY+CiAgICAgICAgPGRpdiBjbGFzcz0icGFuZWwiPgogICAgICAgICAgICA8aDI+MS4gVXBsb2FkIEludmVudG9yeSBTY3JlZW5zaG90PC9oMj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZHJvcC16b25lIiBpZD0iZHJvcC16b25lIj4KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJmb250LXNpemU6MS41ZW0iPvCfk4IgRHJhZyBJbWFnZSBIZXJlPC9zcGFuPjxicj4KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjp2YXIoLS10ZXh0LW11dGVkKSI+U3VwcG9ydHMgUE5HLCBKUEc8L3NwYW4+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZmlsZSIgaWQ9ImZpbGUtaW5wdXQiIHN0eWxlPSJkaXNwbGF5Om5vbmUiIGFjY2VwdD0iaW1hZ2UvKiI+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBpZD0icHJldmlldy1jb250YWluZXIiPgogICAgICAgICAgICAgICAgPGltZyBpZD0icHJldmlldy1pbWciIHNyYz0iIj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9Im92ZXJsYXktZ3JpZCIgY2xhc3M9Im92ZXJsYXktZ3JpZCI+PC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAKICAgICAgICAgICAgPGRpdiBpZD0iY29udHJvbHMtYXJlYSIgc3R5bGU9ImRpc3BsYXk6bm9uZTsgbWFyZ2luLXRvcDoyMHB4OyI+CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGUtdG9nZ2xlIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RlLWJ0biBhY3RpdmUiIGlkPSJidG4tbW9kZS1maW5ldHVuZSIgb25jbGljaz0ic2V0TW9kZSgnZmluZXR1bmUnKSI+8J+Wse+4jyBDbGljayBTbG90IHRvIEVkaXQ8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RlLWJ0biIgaWQ9ImJ0bi1tb2RlLWRyYWciIG9uY2xpY2s9InNldE1vZGUoJ2RyYWcnKSI+4pyLIERyYWcgU2Nhbm5lcnM8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjsgZ2FwOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGgzIHN0eWxlPSJmb250LXNpemU6MC45cmVtOyBjb2xvcjogI2ZmNmI2YjsiPvCfk5AgR3JpZCBMYXlvdXQ8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGlkZXItcm93Ij48bGFiZWw+Q29sczwvbGFiZWw+PGlucHV0IHR5cGU9InJhbmdlIiBpZD0iZ3JpZENvbHMiIG1pbj0iMSIgbWF4PSIxMCIgdmFsdWU9IjUiIG9uaW5wdXQ9ImRyYXdHcmlkKCkiPjxzcGFuIGNsYXNzPSJzbGlkZXItdmFsIiBpZD0idmFsQ29scyI+NTwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2xpZGVyLXJvdyI+PGxhYmVsPlJvd3M8L2xhYmVsPjxpbnB1dCB0eXBlPSJyYW5nZSIgaWQ9ImdyaWRSb3dzIiBtaW49IjEiIG1heD0iNyIgdmFsdWU9IjciIG9uaW5wdXQ9ImRyYXdHcmlkKCkiPjxzcGFuIGNsYXNzPSJzbGlkZXItdmFsIiBpZD0idmFsUm93cyI+Nzwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2xpZGVyLXJvdyI+PGxhYmVsPkdhcCBYPC9sYWJlbD48aW5wdXQgdHlwZT0icmFuZ2UiIGlkPSJncmlkR2FwWCIgbWluPSIwIiBtYXg9IjUwIiB2YWx1ZT0iMTIiIG9uaW5wdXQ9ImRyYXdHcmlkKCkiPjxzcGFuIGNsYXNzPSJzbGlkZXItdmFsIiBpZD0idmFsR2FwWCI+MS4yPC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGlkZXItcm93Ij48bGFiZWw+R2FwIFk8L2xhYmVsPjxpbnB1dCB0eXBlPSJyYW5nZSIgaWQ9ImdyaWRHYXBZIiBtaW49IjAiIG1heD0iNTAiIHZhbHVlPSIxNSIgb25pbnB1dD0iZHJhd0dyaWQoKSI+PHNwYW4gY2xhc3M9InNsaWRlci12YWwiIGlkPSJ2YWxHYXBZIj4xLjU8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGgzIHN0eWxlPSJmb250LXNpemU6MC45cmVtOyBjb2xvcjogI2ZmNmI2YjsiPvCfk48gR3JpZCBQb3NpdGlvbjwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNsaWRlci1yb3ciPjxsYWJlbD5YPC9sYWJlbD48aW5wdXQgdHlwZT0icmFuZ2UiIGlkPSJncmlkWCIgbWluPSIwIiBtYXg9IjUwIiB2YWx1ZT0iMyIgb25pbnB1dD0iZHJhd0dyaWQoKSI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNsaWRlci1yb3ciPjxsYWJlbD5ZPC9sYWJlbD48aW5wdXQgdHlwZT0icmFuZ2UiIGlkPSJncmlkWSIgbWluPSIwIiBtYXg9IjUwIiB2YWx1ZT0iMTgiIG9uaW5wdXQ9ImRyYXdHcmlkKCkiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGlkZXItcm93Ij48bGFiZWw+VzwvbGFiZWw+PGlucHV0IHR5cGU9InJhbmdlIiBpZD0iZ3JpZFciIG1pbj0iNTAiIG1heD0iMTAwIiB2YWx1ZT0iOTQiIG9uaW5wdXQ9ImRyYXdHcmlkKCkiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGlkZXItcm93Ij48bGFiZWw+SDwvbGFiZWw+PGlucHV0IHR5cGU9InJhbmdlIiBpZD0iZ3JpZEgiIG1pbj0iMTAiIG1heD0iMTAwIiB2YWx1ZT0iNjAiIG9uaW5wdXQ9ImRyYXdHcmlkKCkiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMywgMWZyKTsgZ2FwOiAxMHB4OyBtYXJnaW4tdG9wOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic2Vjb25kYXJ5IiBvbmNsaWNrPSJhdXRvQWxpZ25HcmlkQ29ybmVycygpIj5BdXRvLUFsaWduIEdyaWQ8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzZWNvbmRhcnkiIG9uY2xpY2s9ImF1dG9BbGlnbklubmVyKCkiPkF1dG8tQWxpZ24gTnVtL05hbWU8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzZWNvbmRhcnkiIG9uY2xpY2s9InJlc2V0R3JpZCgpIj5SZXNldDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0b2dnbGUtcm93Ij4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0iYXV0b0dyaWRQb3MiIGNoZWNrZWQ+R3JpZCBQb3NpdGlvbjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImF1dG9HcmlkU2l6ZSIgY2hlY2tlZD5HcmlkIFNpemU8L2xhYmVsPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0b2dnbGUtcm93Ij4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0iYXV0b0lubmVyUG9zIiBjaGVja2VkPk51bS9OYW1lIFBvc2l0aW9uPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0iYXV0b0lubmVyU2l6ZSIgY2hlY2tlZD5OdW0vTmFtZSBTaXplPC9sYWJlbD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic3VjY2VzcyIgb25jbGljaz0icnVuRnVsbFNjYW4oKSIgaWQ9InNjYW4tYnRuIj7wn5O4IFNDQU4gR1JJRDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InN0YXR1cy1tc2ciIHN0eWxlPSJtYXJnaW4tdG9wOjEwcHg7IHRleHQtYWxpZ246Y2VudGVyOyBmb250LXdlaWdodDpib2xkOyBoZWlnaHQ6IDIwcHg7Ij48L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIAogICAgPGRpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJwYW5lbCI+CiAgICAgICAgICAgIDxoMj5JbnZlbnRvcnkgUmVzdWx0cyAoRWRpdGFibGUpPC9oMj4KICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWF4LWhlaWdodDogNDAwcHg7IG92ZXJmbG93LXk6IGF1dG87Ij4KICAgICAgICAgICAgICAgIDx0YWJsZSBpZD0icmVzdWx0cy10YWJsZSI+CiAgICAgICAgICAgICAgICAgICAgPHRoZWFkPjx0cj48dGggc3R5bGU9IndpZHRoOjMwcHgiPjwvdGg+PHRoPkl0ZW0gTmFtZTwvdGg+PHRoIHN0eWxlPSJ3aWR0aDo2MHB4Ij5RdHk8L3RoPjwvdHI+PC90aGVhZD4KICAgICAgICAgICAgICAgICAgICA8dGJvZHkgaWQ9InJlc3VsdHMtYm9keSI+PHRyPjx0ZCBjb2xzcGFuPSIzIiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7IHBhZGRpbmc6MjBweDsgY29sb3I6dmFyKC0tdGV4dC1tdXRlZCkiPk5vIHNjYW4gZGF0YSB5ZXQuPC90ZD48L3RyPjwvdGJvZHk+CiAgICAgICAgICAgICAgICA8L3RhYmxlPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYWRkLXJvdy1idG4iIG9uY2xpY2s9ImFkZE1hbnVhbFJvdygpIj4rIEFkZCBNYW51YWwgSXRlbTwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMTBweDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBmb250LXdlaWdodDogYm9sZDsgYmFja2dyb3VuZDogIzIyMjsgcGFkZGluZzogMTBweDsgYm9yZGVyLXJhZGl1czogNHB4OyI+CiAgICAgICAgICAgICAgICA8c3Bhbj5Ub3RhbCBWYWx1ZSAoRXN0KTo8L3NwYW4+CiAgICAgICAgICAgICAgICA8c3BhbiBpZD0idG90YWwtdmFsdWUiIHN0eWxlPSJjb2xvcjp2YXIoLS1hY2NlbnQpIj4wPC9zcGFuPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBjbGFzcz0icGFuZWwiPgogICAgICAgICAgICA8aDI+Q3JhZnRpbmcgUXVldWU8L2gyPgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGdhcDo1cHg7IG1hcmdpbi1ib3R0b206MTBweDsiPgogICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0iY3JhZnQtc2VsZWN0IiBzdHlsZT0iZmxleDoxOyBiYWNrZ3JvdW5kOiMwMDA7IGNvbG9yOiNmZmY7IGJvcmRlcjoxcHggc29saWQgIzMzMzsgcGFkZGluZzo1cHg7Ij48L3NlbGVjdD4KICAgICAgICAgICAgICAgIDxidXR0b24gc3R5bGU9IndpZHRoOmF1dG87IiBvbmNsaWNrPSJhZGRKb2IoKSI+KzwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBpZD0iam9iLWxpc3QiPjwvZGl2PgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzZWNvbmRhcnkiIHN0eWxlPSJtYXJnaW4tdG9wOjEwcHg7IiBvbmNsaWNrPSJjYWxjdWxhdGVDcmFmdGluZygpIj7wn5SoIENhbGN1bGF0ZSBSZXNvdXJjZXM8L2J1dHRvbj4KICAgICAgICAgICAgPGRpdiBpZD0iY3JhZnQtcmVzdWx0cyIgc3R5bGU9Im1hcmdpbi10b3A6MTBweDsgZm9udC1zaXplOjAuOXJlbTsiPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CjwvZGl2PgoKPGRpdiBpZD0iaW5kZXgtdG9nZ2xlIiBjbGFzcz0iaW5kZXgtdG9nZ2xlIiBvbmNsaWNrPSJ0b2dnbGVJbmRleCgpIj5JbmRleDwvZGl2Pgo8ZGl2IGlkPSJpbmRleC1kcmF3ZXIiIGNsYXNzPSJpbmRleC1kcmF3ZXIiPgogICAgPGRpdiBjbGFzcz0iaW5kZXgtaGVhZGVyIj4KICAgICAgICA8c3Bhbj5Gb3JnZSBJbmRleDwvc3Bhbj4KICAgICAgICA8c3BhbiBjbGFzcz0iaW5kZXgtY2xvc2UiIG9uY2xpY2s9InRvZ2dsZUluZGV4KHRydWUpIj7Dlzwvc3Bhbj4KICAgIDwvZGl2PgogICAgPGRpdiBpZD0iaW5kZXgtY29udGVudCIgY2xhc3M9ImluZGV4LWNvbnRlbnQiPjwvZGl2PgogICAgPGRpdiBzdHlsZT0icGFkZGluZzo4cHggMTJweDsgZm9udC1zaXplOjAuNzVyZW07IGNvbG9yOnZhcigtLXRleHQtbXV0ZWQpOyBib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1ib3JkZXIpOyI+CiAgICAgICAgVG9nZ2xlIHdpdGggdGhlIHllbGxvdyBwaWxsIGZvciBxdWljayBvcmUvaXRlbSBzdGF0cy4KICAgIDwvZGl2Pgo8L2Rpdj4KCjxkaXYgY2xhc3M9InNpZ25hdHVyZSI+QnVpbHQgYnkgQ2hpY2tlbk9uQVN0cmlwPC9kaXY+CgoKPGRpdiBpZD0ibW9kYWwiIGNsYXNzPSJtb2RhbCIgb25jbGljaz0iY2xvc2VNb2RhbChldmVudCkiPgogICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgb25jbGljaz0iZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkiPgogICAgICAgIDxoMz5GaW5lLVR1bmUgU2xvdCA8c3BhbiBpZD0ibW9kYWwtc2xvdC1pZCI+Izwvc3Bhbj48L2gzPgogICAgICAgIAogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLXRhYnMiPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJ0YWItYnRuIGFjdGl2ZSBncmVlbiIgb25jbGljaz0ic2V0VGFiKCdudW0nKSI+MTIzIE51bWJlciBTY2FubmVyPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9InRhYi1idG4gYmx1ZSIgb25jbGljaz0ic2V0VGFiKCduYW1lJykiPkFCQyBOYW1lIFNjYW5uZXI8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBjbGFzcz0icHJldmlldy1jYW52YXMtd3JhcHBlciI+CiAgICAgICAgICAgIDxjYW52YXMgaWQ9Im1vZGFsLWNhbnZhcyIgd2lkdGg9IjE1MCIgaGVpZ2h0PSIxNTAiPjwvY2FudmFzPgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsganVzdGlmeS1jb250ZW50OmNlbnRlcjsgZ2FwOjVweDsiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFnIiBzdHlsZT0iY29sb3I6dmFyKC0tbnVtLWNvbG9yKSI+TnVtOiA8c3BhbiBpZD0icHJldmlldy1udW0tdmFsIj4tPC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFnIiBzdHlsZT0iY29sb3I6dmFyKC0tbmFtZS1jb2xvcikiPk5hbWU6IDxzcGFuIGlkPSJwcmV2aWV3LW5hbWUtdmFsIj4tPC9zcGFuPjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBpZD0iY29udHJvbHMtbnVtIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2xpZGVyLXJvdyI+PGxhYmVsPlBvcyBYPC9sYWJlbD48aW5wdXQgdHlwZT0icmFuZ2UiIGlkPSJtTlgiIG1pbj0iMCIgbWF4PSIxMDAiIG9uaW5wdXQ9InVwZGF0ZU1vZGFsUHJldmlldygpIj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2xpZGVyLXJvdyI+PGxhYmVsPlBvcyBZPC9sYWJlbD48aW5wdXQgdHlwZT0icmFuZ2UiIGlkPSJtTlkiIG1pbj0iMCIgbWF4PSIxMDAiIG9uaW5wdXQ9InVwZGF0ZU1vZGFsUHJldmlldygpIj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2xpZGVyLXJvdyI+PGxhYmVsPldpZHRoPC9sYWJlbD48aW5wdXQgdHlwZT0icmFuZ2UiIGlkPSJtTlciIG1pbj0iMTAiIG1heD0iMTAwIiBvbmlucHV0PSJ1cGRhdGVNb2RhbFByZXZpZXcoKSI+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNsaWRlci1yb3ciPjxsYWJlbD5IZWlnaHQ8L2xhYmVsPjxpbnB1dCB0eXBlPSJyYW5nZSIgaWQ9Im1OSCIgbWluPSIxMCIgbWF4PSIxMDAiIG9uaW5wdXQ9InVwZGF0ZU1vZGFsUHJldmlldygpIj48L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBpZD0iY29udHJvbHMtbmFtZSIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGlkZXItcm93Ij48bGFiZWw+UG9zIFg8L2xhYmVsPjxpbnB1dCB0eXBlPSJyYW5nZSIgaWQ9Im1UWCIgbWluPSIwIiBtYXg9IjEwMCIgb25pbnB1dD0idXBkYXRlTW9kYWxQcmV2aWV3KCkiPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGlkZXItcm93Ij48bGFiZWw+UG9zIFk8L2xhYmVsPjxpbnB1dCB0eXBlPSJyYW5nZSIgaWQ9Im1UWSIgbWluPSIwIiBtYXg9IjEwMCIgb25pbnB1dD0idXBkYXRlTW9kYWxQcmV2aWV3KCkiPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbGlkZXItcm93Ij48bGFiZWw+V2lkdGg8L2xhYmVsPjxpbnB1dCB0eXBlPSJyYW5nZSIgaWQ9Im1UVyIgbWluPSIxMCIgbWF4PSIxMDAiIG9uaW5wdXQ9InVwZGF0ZU1vZGFsUHJldmlldygpIj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2xpZGVyLXJvdyI+PGxhYmVsPkhlaWdodDwvbGFiZWw+PGlucHV0IHR5cGU9InJhbmdlIiBpZD0ibVRIIiBtaW49IjEwIiBtYXg9IjEwMCIgb25pbnB1dD0idXBkYXRlTW9kYWxQcmV2aWV3KCkiPjwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGdhcDoxMHB4OyBtYXJnaW4tdG9wOjIwcHg7Ij4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ic2Vjb25kYXJ5IiBvbmNsaWNrPSJhcHBseVRvQWxsKCkiPkFwcGx5IHRvIEFsbCBTbG90czwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InNhdmVNb2RhbCgpIj5Eb25lPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KPC9kaXY+Cgo8c2NyaXB0PgogICAgLy8gLS0tIERBVEFCQVNFOiBGdWxsIG9yZSBsaXN0IChtdWx0aXBsaWVyLCB2YWx1ZSwgZHJvcCBzb3VyY2UsIGNoYW5jZSkgLS0tCiAgICBjb25zdCBPUkVTID0gWwogICAgICAgIHsgaWQ6ICdzdG9uZScsIG5hbWU6ICdTdG9uZScsIHJhcml0eTogJ0NvbW1vbicsIHByaWNlOiAzLjAwLCBjaGFuY2U6ICcxLzEnLCBzb3VyY2VzOiBbJ1BlYmJsZSddLCBtdWx0OiAwLjIwIH0sCiAgICAgICAgeyBpZDogJ3NhbmQtc3RvbmUnLCBuYW1lOiAnU2FuZCBTdG9uZScsIHJhcml0eTogJ0NvbW1vbicsIHByaWNlOiAzLjc1LCBjaGFuY2U6ICcxLz8nLCBzb3VyY2VzOiBbXSwgbXVsdDogMC4yNSB9LAogICAgICAgIHsgaWQ6ICdjb3BwZXInLCBuYW1lOiAnQ29wcGVyJywgcmFyaXR5OiAnQ29tbW9uJywgcHJpY2U6IDQuNTAsIGNoYW5jZTogJzEvMicsIHNvdXJjZXM6IFsnUGViYmxlJywgJ1JvY2snXSwgbXVsdDogMC4yNSB9LAogICAgICAgIHsgaWQ6ICdpcm9uJywgbmFtZTogJ0lyb24nLCByYXJpdHk6ICdDb21tb24nLCBwcmljZTogNS4yNSwgY2hhbmNlOiAnMS8zJywgc291cmNlczogWydQZWJibGUnLCAnUm9jaycsICdCb3VsZGVyJ10sIG11bHQ6IDAuMzAgfSwKICAgICAgICB7IGlkOiAnY2FyZGJvYXJkaXRlJywgbmFtZTogJ0NhcmRib2FyZGl0ZScsIHJhcml0eTogJ0NvbW1vbicsIHByaWNlOiAxMC41MCwgY2hhbmNlOiAnMS81Jywgc291cmNlczogWydQZWJibGUnLCAnUm9jaycsICdCb3VsZGVyJ10sIG11bHQ6IDAuMzUgfSwKICAgICAgICB7IGlkOiAndGluJywgbmFtZTogJ1RpbicsIHJhcml0eTogJ1VuY29tbW9uJywgcHJpY2U6IDYuMzgsIGNoYW5jZTogJzEvMzEnLCBzb3VyY2VzOiBbJ1JvY2snLCAnQm91bGRlciddLCBtdWx0OiAwLjcwIH0sCiAgICAgICAgeyBpZDogJ3NpbHZlcicsIG5hbWU6ICdTaWx2ZXInLCByYXJpdHk6ICdVbmNvbW1vbicsIHByaWNlOiA3LjUwLCBjaGFuY2U6ICcxLzcnLCBzb3VyY2VzOiBbJ1JvY2snLCAnQm91bGRlciddLCBtdWx0OiAwLjQyNSB9LAogICAgICAgIHsgaWQ6ICdiYW5hbmFuaXRlJywgbmFtZTogJ0JhbmFuYW5pdGUnLCByYXJpdHk6ICdVbmNvbW1vbicsIHByaWNlOiAxMi43NSwgY2hhbmNlOiAnMS8xMicsIHNvdXJjZXM6IFsnUm9jaycsICdCb3VsZGVyJ10sIG11bHQ6IDAuNTAgfSwKICAgICAgICB7IGlkOiAnZ29sZCcsIG5hbWU6ICdHb2xkJywgcmFyaXR5OiAnVW5jb21tb24nLCBwcmljZTogMTkuNTAsIGNoYW5jZTogJzEvMzAnLCBzb3VyY2VzOiBbJ1JvY2snLCAnQm91bGRlciddLCBtdWx0OiAwLjg1IH0sCiAgICAgICAgeyBpZDogJ211c2hyb29taXRlJywgbmFtZTogJ011c2hyb29taXRlJywgcmFyaXR5OiAnUmFyZScsIHByaWNlOiAxMi4wMCwgY2hhbmNlOiAnMS8xNicsIHNvdXJjZXM6IFsnQm91bGRlciddLCBtdWx0OiAwLjY1IH0sCiAgICAgICAgeyBpZDogJ3BsYXRpbnVtJywgbmFtZTogJ1BsYXRpbnVtJywgcmFyaXR5OiAnUmFyZScsIHByaWNlOiAxMi4wMCwgY2hhbmNlOiAnMS8yMicsIHNvdXJjZXM6IFsnUm9jaycsICdCb3VsZGVyJ10sIG11bHQ6IDAuODAgfSwKICAgICAgICB7IGlkOiAnYWl0ZScsIG5hbWU6ICdBaXRlJywgcmFyaXR5OiAnRXBpYycsIHByaWNlOiAxNi41MCwgY2hhbmNlOiAnMS80NCcsIHNvdXJjZXM6IFsnQm91bGRlciddLCBtdWx0OiAxLjEwIH0sCiAgICAgICAgeyBpZDogJ3Bvb3BpdGUnLCBuYW1lOiAnUG9vcGl0ZScsIHJhcml0eTogJ0VwaWMnLCBwcmljZTogMTguMDAsIGNoYW5jZTogJzEvMTMxJywgc291cmNlczogWydQZWJibGUnLCAnUm9jaycsICdCb3VsZGVyJ10sIG11bHQ6IDEuMjAgfSwKICAgICAgICB7IGlkOiAnY29iYWx0JywgbmFtZTogJ0NvYmFsdCcsIHJhcml0eTogJ1VuY29tbW9uJywgcHJpY2U6IDE1LjAwLCBjaGFuY2U6ICcxLzM3Jywgc291cmNlczogWydCYXNhbHQgUm9jaycsICdCYXNhbHQgQ29yZSddLCBtdWx0OiAxLjAwIH0sCiAgICAgICAgeyBpZDogJ3RpdGFuaXVtJywgbmFtZTogJ1RpdGFuaXVtJywgcmFyaXR5OiAnVW5jb21tb24nLCBwcmljZTogMTcuMjUsIGNoYW5jZTogJzEvNTAnLCBzb3VyY2VzOiBbJ0Jhc2FsdCBSb2NrJywgJ0Jhc2FsdCBDb3JlJ10sIG11bHQ6IDEuMTUgfSwKICAgICAgICB7IGlkOiAnbGFwaXMtbGF6dWxpJywgbmFtZTogJ0xhcGlzIExhenVsaScsIHJhcml0eTogJ1VuY29tbW9uJywgcHJpY2U6IDE5LjUwLCBjaGFuY2U6ICcxLzczJywgc291cmNlczogWydCYXNhbHQgUm9jaycsICdCYXNhbHQgQ29yZSddLCBtdWx0OiAxLjMwIH0sCiAgICAgICAgeyBpZDogJ3ZvbGNhbmljLXJvY2snLCBuYW1lOiAnVm9sY2FuaWMgUm9jaycsIHJhcml0eTogJ1JhcmUnLCBwcmljZTogMjMuMjUsIGNoYW5jZTogJzEvNTUnLCBzb3VyY2VzOiBbJ1ZvbGNhbmljIFJvY2snXSwgbXVsdDogMS41NSB9LAogICAgICAgIHsgaWQ6ICdxdWFydHonLCBuYW1lOiAnUXVhcnR6JywgcmFyaXR5OiAnUmFyZScsIHByaWNlOiAyMi41MCwgY2hhbmNlOiAnMS85MCcsIHNvdXJjZXM6IFsnQmFzYWx0IENvcmUnLCAnQmFzYWx0IFZlaW4nXSwgbXVsdDogMS41MCB9LAogICAgICAgIHsgaWQ6ICdhbWV0aHlzdCcsIG5hbWU6ICdBbWV0aHlzdCcsIHJhcml0eTogJ1JhcmUnLCBwcmljZTogMjQuNzUsIGNoYW5jZTogJzEvMTE1Jywgc291cmNlczogWydCYXNhbHQgQ29yZScsICdCYXNhbHQgVmVpbiddLCBtdWx0OiAxLjY1IH0sCiAgICAgICAgeyBpZDogJ3RvcGF6JywgbmFtZTogJ1RvcGF6JywgcmFyaXR5OiAnUmFyZScsIHByaWNlOiAyNi4yNSwgY2hhbmNlOiAnMS8xNDMnLCBzb3VyY2VzOiBbJ0Jhc2FsdCBDb3JlJywgJ0Jhc2FsdCBWZWluJ10sIG11bHQ6IDEuNzUgfSwKICAgICAgICB7IGlkOiAnZGlhbW9uZCcsIG5hbWU6ICdEaWFtb25kJywgcmFyaXR5OiAnUmFyZScsIHByaWNlOiAzMC4wMCwgY2hhbmNlOiAnMS8xOTInLCBzb3VyY2VzOiBbJ0Jhc2FsdCBDb3JlJywgJ0Jhc2FsdCBWZWluJ10sIG11bHQ6IDIuMDAgfSwKICAgICAgICB7IGlkOiAnc2FwcGhpcmUnLCBuYW1lOiAnU2FwcGhpcmUnLCByYXJpdHk6ICdSYXJlJywgcHJpY2U6IDMzLjc1LCBjaGFuY2U6ICcxLzI0NycsIHNvdXJjZXM6IFsnQmFzYWx0IENvcmUnLCAnQmFzYWx0IFZlaW4nXSwgbXVsdDogMi4yNSB9LAogICAgICAgIHsgaWQ6ICdjdXByaXRlJywgbmFtZTogJ0N1cHJpdGUnLCByYXJpdHk6ICdFcGljJywgcHJpY2U6IDM2LjQ1LCBjaGFuY2U6ICcxLzMwMycsIHNvdXJjZXM6IFsnQmFzYWx0IENvcmUnLCAnQmFzYWx0IFZlaW4nLCAnVm9sY2FuaWMnXSwgbXVsdDogMi40MyB9LAogICAgICAgIHsgaWQ6ICdvYnNpZGlhbicsIG5hbWU6ICdPYnNpZGlhbicsIHJhcml0eTogJ0VwaWMnLCBwcmljZTogMzUuMjUsIGNoYW5jZTogJzEvMzMzJywgc291cmNlczogWydWb2xjYW5pYyBSb2NrJ10sIG11bHQ6IDIuMzUsIGJvbnVzOiAnKzMwJSBBcm1vciBEZWYnIH0sCiAgICAgICAgeyBpZDogJ2VtZXJhbGQnLCBuYW1lOiAnRW1lcmFsZCcsIHJhcml0eTogJ0VwaWMnLCBwcmljZTogMzguMjUsIGNoYW5jZTogJzEvMzYzJywgc291cmNlczogWydCYXNhbHQgQ29yZScsICdCYXNhbHQgVmVpbiddLCBtdWx0OiAyLjU1IH0sCiAgICAgICAgeyBpZDogJ3J1YnknLCBuYW1lOiAnUnVieScsIHJhcml0eTogJ0VwaWMnLCBwcmljZTogNDQuMjUsIGNoYW5jZTogJzEvNDg3Jywgc291cmNlczogWydCYXNhbHQgVmVpbiddLCBtdWx0OiAyLjk1IH0sCiAgICAgICAgeyBpZDogJ3JpdmFsaXRlJywgbmFtZTogJ1JpdmFsaXRlJywgcmFyaXR5OiAnRXBpYycsIHByaWNlOiA0OS45NSwgY2hhbmNlOiAnMS81NjknLCBzb3VyY2VzOiBbJ0Jhc2FsdCBWZWluJywgJ1ZvbGNhbmljIFJvY2snXSwgbXVsdDogMy4zMywgYm9udXM6ICcrMjAlIENyaXQgV2VhcG9ucycgfSwKICAgICAgICB7IGlkOiAndXJhbml1bScsIG5hbWU6ICdVcmFuaXVtJywgcmFyaXR5OiAnTGVnZW5kYXJ5JywgcHJpY2U6IDY2LjAwLCBjaGFuY2U6ICcxLzc3NycsIHNvdXJjZXM6IFsnQmFzYWx0IFZlaW4nXSwgbXVsdDogMy4wMCwgYm9udXM6ICc1JSBNYXggSFAgQU9FIERtZyBBcm1vcicgfSwKICAgICAgICB7IGlkOiAnbXl0aHJpbCcsIG5hbWU6ICdNeXRocmlsJywgcmFyaXR5OiAnTGVnZW5kYXJ5JywgcHJpY2U6IDUyLjUwLCBjaGFuY2U6ICcxLzgxMycsIHNvdXJjZXM6IFsnQmFzYWx0IFZlaW4nXSwgbXVsdDogMy41MCwgYm9udXM6ICcrMTUlIEFybW9yIERlZicgfSwKICAgICAgICB7IGlkOiAnZXllLW9yZScsIG5hbWU6ICdFeWUgT3JlJywgcmFyaXR5OiAnTGVnZW5kYXJ5JywgcHJpY2U6IDYwLjAwLCBjaGFuY2U6ICcxLzEzMzMnLCBzb3VyY2VzOiBbJ0Jhc2FsdCcsICdWb2xjYW5pYyddLCBtdWx0OiA0LjAwIH0sCiAgICAgICAgeyBpZDogJ2ZpcmVpdGUnLCBuYW1lOiAnRmlyZWl0ZScsIHJhcml0eTogJ0xlZ2VuZGFyeScsIHByaWNlOiA2Ny41MCwgY2hhbmNlOiAnMS8yMTg3Jywgc291cmNlczogWydWb2xjYW5pYyBSb2NrJ10sIG11bHQ6IDQuNTAsIGJvbnVzOiAnMjAlIEJ1cm4gV2VhcG9ucycgfSwKICAgICAgICB7IGlkOiAnbWFnbWFpdGUnLCBuYW1lOiAnTWFnbWFpdGUnLCByYXJpdHk6ICdMZWdlbmRhcnknLCBwcmljZTogNzUuMDAsIGNoYW5jZTogJzEvMzAwMycsIHNvdXJjZXM6IFsnVm9sY2FuaWMgUm9jayddLCBtdWx0OiA1LjAwLCBib251czogJzUwJSBBT0UgRXhwIFdlYXBvbnMnIH0sCiAgICAgICAgeyBpZDogJ2xpZ2h0aXRlJywgbmFtZTogJ0xpZ2h0aXRlJywgcmFyaXR5OiAnTGVnZW5kYXJ5JywgcHJpY2U6IDY5LjAwLCBjaGFuY2U6ICcxLzMzMzMnLCBzb3VyY2VzOiBbJ0Jhc2FsdCBWZWluJ10sIG11bHQ6IDQuNjAsIGJvbnVzOiAnU3BlZWQgYm9vc3Qgd2hlbiB1c2VkIHRvIGNyYWZ0IEFybW9yJyB9LAogICAgICAgIHsgaWQ6ICdkZW1vbml0ZScsIG5hbWU6ICdEZW1vbml0ZScsIHJhcml0eTogJ015dGhpY2FsJywgcHJpY2U6IDgyLjUwLCBjaGFuY2U6ICcxLzM2NjYnLCBzb3VyY2VzOiBbJ1ZvbGNhbmljIFJvY2snXSwgbXVsdDogNS41MCwgYm9udXM6ICcxNSUgb24taGl0IENoYW5jZSB0byBCdXJuJyB9LAogICAgICAgIHsgaWQ6ICdkYXJrcnl0ZScsIG5hbWU6ICdEYXJrcnl0ZScsIHJhcml0eTogJ015dGhpY2FsJywgcHJpY2U6IDk0LjUwLCBjaGFuY2U6ICcxLzU1NTUnLCBzb3VyY2VzOiBbJ1ZvbGNhbmljIFJvY2snXSwgbXVsdDogNi4zMCwgYm9udXM6ICcxNSUgQ2hhbmNlIHRvIHR1cm4gaW50byBhIHNoYWRvdyBhbmQgZG9kZ2UnIH0sCiAgICAgICAgeyBpZDogJ21hZ2VudGEtY3J5c3RhbCcsIG5hbWU6ICdNYWdlbnRhIENyeXN0YWwgT3JlJywgcmFyaXR5OiAnRXBpYycsIHByaWNlOiAzNy41NSwgY2hhbmNlOiAnMS8yNTUnLCBzb3VyY2VzOiBbJ0NvbG9yIENyeXN0YWwgUm9ja3MnXSwgbXVsdDogMi41MCB9LAogICAgICAgIHsgaWQ6ICdjcmltc29uLWNyeXN0YWwnLCBuYW1lOiAnQ3JpbXNvbiBDcnlzdGFsIE9yZScsIHJhcml0eTogJ0VwaWMnLCBwcmljZTogMzcuNTUsIGNoYW5jZTogJzEvMjU1Jywgc291cmNlczogWydDb2xvciBDcnlzdGFsIFJvY2tzJ10sIG11bHQ6IDIuNTAgfSwKICAgICAgICB7IGlkOiAnZ3JlZW4tY3J5c3RhbCcsIG5hbWU6ICdHcmVlbiBDcnlzdGFsIE9yZScsIHJhcml0eTogJ0VwaWMnLCBwcmljZTogMzcuNTUsIGNoYW5jZTogJzEvMjU1Jywgc291cmNlczogWydDb2xvciBDcnlzdGFsIFJvY2tzJ10sIG11bHQ6IDIuNTAgfSwKICAgICAgICB7IGlkOiAnb3JhbmdlLWNyeXN0YWwnLCBuYW1lOiAnT3JhbmdlIENyeXN0YWwgT3JlJywgcmFyaXR5OiAnRXBpYycsIHByaWNlOiAzNy41NSwgY2hhbmNlOiAnMS8yNTUnLCBzb3VyY2VzOiBbJ0NvbG9yIENyeXN0YWwgUm9ja3MnXSwgbXVsdDogMi41MCB9LAogICAgICAgIHsgaWQ6ICdibHVlLWNyeXN0YWwnLCBuYW1lOiAnQmx1ZSBDcnlzdGFsIE9yZScsIHJhcml0eTogJ0VwaWMnLCBwcmljZTogMzcuNTUsIGNoYW5jZTogJzEvMjU1Jywgc291cmNlczogWydDb2xvciBDcnlzdGFsIFJvY2tzJ10sIG11bHQ6IDIuNTAgfSwKICAgICAgICB7IGlkOiAncmFpbmJvdy1jcnlzdGFsJywgbmFtZTogJ1JhaW5ib3cgQ3J5c3RhbCcsIHJhcml0eTogJ0xlZ2VuZGFyeScsIHByaWNlOiA3OC43NSwgY2hhbmNlOiAnMS81MDAwJywgc291cmNlczogWydBbGwgQ3J5c3RhbCBSb2NrcyddLCBtdWx0OiA1LjI1IH0sCiAgICAgICAgeyBpZDogJ2FyY2FuZS1jcnlzdGFsJywgbmFtZTogJ0FyY2FuZSBDcnlzdGFsIE9yZScsIHJhcml0eTogJ0VwaWMnLCBwcmljZTogMTEyLjUwLCBjaGFuY2U6ICcxLzEwMDAwMCcsIHNvdXJjZXM6IFsnQ29sb3IgQ3J5c3RhbCBSb2NrcyddLCBtdWx0OiA3LjUwIH0KICAgIF07CgogICAgY29uc3QgQ1JBRlRBQkxFUyA9IFsKICAgICAgICB7IG5hbWU6ICJNZWRpdW0gQ2hlc3RwbGF0ZSIsIG9yZUNvc3Q6IDIxLCBzdWNjZXNzOiAwLjYzIH0sCiAgICAgICAgeyBuYW1lOiAiTWVkaXVtIExlZ2dpbmdzIiwgb3JlQ29zdDogMTYsIHN1Y2Nlc3M6IDAuNTcgfSwKICAgICAgICB7IG5hbWU6ICJNZWRpdW0gSGVsbWV0Iiwgb3JlQ29zdDogMTMsIHN1Y2Nlc3M6IDAuNjAgfSwKICAgICAgICB7IG5hbWU6ICJIZWF2eSBIZWxtZXQiLCBvcmVDb3N0OiAyNSwgc3VjY2VzczogMC41MSB9LAogICAgICAgIHsgbmFtZTogIkhlYXZ5IExlZ2dpbmdzIiwgb3JlQ29zdDogMzAsIHN1Y2Nlc3M6IDAuNDkgfSwKICAgICAgICB7IG5hbWU6ICJIZWF2eSBDaGVzdHBsYXRlIiwgb3JlQ29zdDogMzQsIHN1Y2Nlc3M6IDAuNTQgfSwKICAgICAgICB7IG5hbWU6ICJEYWdnZXIiLCBvcmVDb3N0OiAzLCBzdWNjZXNzOiAxLjAwIH0sCiAgICAgICAgeyBuYW1lOiAiU3RyYWlnaHQgU3dvcmQiLCBvcmVDb3N0OiA2LCBzdWNjZXNzOiAwLjg2IH0sCiAgICAgICAgeyBuYW1lOiAiR2F1bnRsZXQiLCBvcmVDb3N0OiA5LCBzdWNjZXNzOiAwLjY1IH0sCiAgICAgICAgeyBuYW1lOiAiS2F0YW5hIiwgb3JlQ29zdDogMTIsIHN1Y2Nlc3M6IDAuNzIgfSwKICAgICAgICB7IG5hbWU6ICJHcmVhdCBTd29yZCIsIG9yZUNvc3Q6IDE2LCBzdWNjZXNzOiAwLjY5IH0sCiAgICAgICAgeyBuYW1lOiAiR3JlYXQgQXhlIiwgb3JlQ29zdDogMjIsIHN1Y2Nlc3M6IDAuNjcgfSwKICAgICAgICB7IG5hbWU6ICJDb2xvc3NhbCBTd29yZCIsIG9yZUNvc3Q6IDM0LCBzdWNjZXNzOiAwLjU4IH0KICAgIF07CgogICAgLy8gLS0tIFNUQVRFIC0tLQogICAgY29uc3QgZGVmYXVsdEdyaWQgPSB7IGNvbHM6IDUsIHJvd3M6IDcsIHg6IDMsIHk6IDEyLCB3OiA5NCwgaDogODAsIGdhcFg6IDEyLCBnYXBZOiAxNSB9OwogICAgbGV0IGRlZmF1bHROdW0gPSB7IHg6IDcwLCB5OiA3MCwgdzogMjAsIGg6IDIwIH07CiAgICBsZXQgZGVmYXVsdE5hbWUgPSB7IHg6IDgsIHk6IDEwLCB3OiA4NCwgaDogMTggfTsKICAgIGxldCBpbWdPYmogPSBudWxsOwogICAgbGV0IHNsb3RDb25maWdzID0gW107IAogICAgbGV0IHNjYW5SZXN1bHRzID0gW107IC8vIFt7bmFtZTogIklyb24iLCBjb3VudDogNX0sIC4uLl0KICAgIGxldCBhY3RpdmVTbG90ID0gMDsKICAgIGxldCBqb2JRdWV1ZSA9IFtdOwogICAgbGV0IHVpTW9kZSA9ICdmaW5ldHVuZSc7IC8vICdmaW5ldHVuZScgb3IgJ2RyYWcnCiAgICBsZXQgZHJhZ1RhcmdldCA9IG51bGw7IAoKICAgIC8vIC0tLSBJTklUIC0tLQogICAgd2luZG93Lm9ubG9hZCA9ICgpID0+IHsKICAgICAgICBhbGlnbkdyaWRUb09yZUNvdW50KCk7CiAgICAgICAgc2V0dXBEcmFnRHJvcCgpOwogICAgICAgIGluaXRDcmFmdGluZ1VJKCk7CiAgICAgICAgcmVuZGVySW5kZXgoKTsKICAgICAgICBzZXRNb2RlKCdmaW5ldHVuZScpOwogICAgfTsKCiAgICBmdW5jdGlvbiBhbGlnbkdyaWRUb09yZUNvdW50KCkgewogICAgICAgIGNvbnN0IGNvbHNJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmlkQ29scycpOwogICAgICAgIGNvbnN0IHJvd3NJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmlkUm93cycpOwogICAgICAgIGNvbHNJbnB1dC52YWx1ZSA9IGRlZmF1bHRHcmlkLmNvbHM7CiAgICAgICAgcm93c0lucHV0Lm1heCA9IGRlZmF1bHRHcmlkLnJvd3M7CiAgICAgICAgcm93c0lucHV0LnZhbHVlID0gZGVmYXVsdEdyaWQucm93czsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JpZFgnKS52YWx1ZSA9IGRlZmF1bHRHcmlkLng7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyaWRZJykudmFsdWUgPSBkZWZhdWx0R3JpZC55OwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmlkVycpLnZhbHVlID0gZGVmYXVsdEdyaWQudzsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JpZEgnKS52YWx1ZSA9IGRlZmF1bHRHcmlkLmg7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyaWRHYXBYJykudmFsdWUgPSBkZWZhdWx0R3JpZC5nYXBYOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmlkR2FwWScpLnZhbHVlID0gZGVmYXVsdEdyaWQuZ2FwWTsKICAgICAgICBbJ0NvbHMnLCdSb3dzJywnR2FwWCcsJ0dhcFknXS5mb3JFYWNoKGsgPT4gewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFsJytrKS5pbm5lclRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JpZCcraykudmFsdWU7CiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gdG9nZ2xlSW5kZXgoZm9yY2VDbG9zZSA9IGZhbHNlKSB7CiAgICAgICAgY29uc3QgZHJhd2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luZGV4LWRyYXdlcicpOwogICAgICAgIGlmKCFkcmF3ZXIpIHJldHVybjsKICAgICAgICBjb25zdCBpc09wZW4gPSBkcmF3ZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93Jyk7CiAgICAgICAgaWYoZm9yY2VDbG9zZSB8fCBpc09wZW4pIHsKICAgICAgICAgICAgZHJhd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnc2hvdycpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiByZW5kZXJJbmRleCgpIHsKICAgICAgICBjb25zdCB3cmFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luZGV4LWNvbnRlbnQnKTsKICAgICAgICBpZighd3JhcCkgcmV0dXJuOwogICAgICAgIGNvbnN0IG9yZUxpc3QgPSBPUkVTLm1hcChvID0+IHsKICAgICAgICAgICAgY29uc3QgYml0cyA9IFtvLmNoYW5jZSB8fCAnJywgYHgke28ubXVsdH1gXTsKICAgICAgICAgICAgaWYoby5zb3VyY2VzICYmIG8uc291cmNlcy5sZW5ndGgpIGJpdHMucHVzaChvLnNvdXJjZXMuam9pbignLCAnKSk7CiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz0iaW5kZXgtcm93Ij48ZGl2PjxzdHJvbmc+JHtvLm5hbWV9PC9zdHJvbmc+IDxzcGFuIGNsYXNzPSJ0YWciPiR7by5yYXJpdHkgfHwgJyd9PC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9InN1YiI+JHtiaXRzLmZpbHRlcihCb29sZWFuKS5qb2luKCcg4oCiICcpfTwvZGl2PjwvZGl2PmA7CiAgICAgICAgfSkuam9pbignJyk7CiAgICAgICAgY29uc3QgY3JhZnRMaXN0ID0gQ1JBRlRBQkxFUy5tYXAoYyA9PiB7CiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz0iaW5kZXgtcm93Ij48ZGl2PjxzdHJvbmc+JHtjLm5hbWV9PC9zdHJvbmc+IDxzcGFuIGNsYXNzPSJ0YWciPiR7TWF0aC5yb3VuZChjLnN1Y2Nlc3MqMTAwKX0lPC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9InN1YiI+JHtjLm9yZUNvc3R9IG9yZXM8L2Rpdj48L2Rpdj5gOwogICAgICAgIH0pLmpvaW4oJycpOwogICAgICAgIHdyYXAuaW5uZXJIVE1MID0gYAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbmRleC1zZWN0aW9uIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImluZGV4LXRpdGxlIj5PcmVzPC9kaXY+CiAgICAgICAgICAgICAgICAke29yZUxpc3R9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbmRleC1zZWN0aW9uIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImluZGV4LXRpdGxlIj5JdGVtczwvZGl2PgogICAgICAgICAgICAgICAgJHtjcmFmdExpc3R9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIGA7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0dXBEcmFnRHJvcCgpIHsKICAgICAgICBjb25zdCB6b25lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ryb3Atem9uZScpOwogICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUtaW5wdXQnKTsKICAgICAgICB6b25lLm9uY2xpY2sgPSAoKSA9PiBpbnB1dC5jbGljaygpOwogICAgICAgIHpvbmUub25kcmFnb3ZlciA9IChlKSA9PiB7IGUucHJldmVudERlZmF1bHQoKTsgem9uZS5zdHlsZS5ib3JkZXJDb2xvciA9ICcjZDI5OTIyJzsgfTsKICAgICAgICB6b25lLm9uZHJhZ2xlYXZlID0gKCkgPT4geyB6b25lLnN0eWxlLmJvcmRlckNvbG9yID0gJyMzMDM2M2QnOyB9OwogICAgICAgIHpvbmUub25kcm9wID0gKGUpID0+IHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBoYW5kbGVGaWxlKGUuZGF0YVRyYW5zZmVyLmZpbGVzWzBdKTsgfTsKICAgICAgICBpbnB1dC5vbmNoYW5nZSA9IChlKSA9PiBoYW5kbGVGaWxlKGUudGFyZ2V0LmZpbGVzWzBdKTsKICAgICAgICAKICAgICAgICAvLyBTZXR1cCBEcmFnIExpc3RlbmVycwogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVEcmFnTW92ZSk7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVEcmFnRW5kKTsKICAgIH0KCiAgICBmdW5jdGlvbiBoYW5kbGVGaWxlKGZpbGUpIHsKICAgICAgICBpZiAoIWZpbGUpIHJldHVybjsKICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4gewogICAgICAgICAgICBpbWdPYmogPSBuZXcgSW1hZ2UoKTsKICAgICAgICAgICAgaW1nT2JqLnNyYyA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICAgICAgaW1nT2JqLm9ubG9hZCA9ICgpID0+IHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2aWV3LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRyb2xzLWFyZWEnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcm9wLXpvbmUnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXctaW1nJykuc3JjID0gaW1nT2JqLnNyYzsKICAgICAgICAgICAgICAgIGluaXRpYWxpemVTbG90cygpOyAKICAgICAgICAgICAgICAgIGF1dG9BbGlnbkdyaWRDb3JuZXJzKCk7CiAgICAgICAgICAgICAgICBhdXRvQWxpZ25Jbm5lcigpOyAKICAgICAgICAgICAgfTsKICAgICAgICB9OwogICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldE1vZGUobW9kZSkgewogICAgICAgIHVpTW9kZSA9IG1vZGU7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi1tb2RlLWZpbmV0dW5lJykuY2xhc3NOYW1lID0gYG1vZGUtYnRuICR7bW9kZT09PSdmaW5ldHVuZSc/J2FjdGl2ZSc6Jyd9YDsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLW1vZGUtZHJhZycpLmNsYXNzTmFtZSA9IGBtb2RlLWJ0biAke21vZGU9PT0nZHJhZyc/J2FjdGl2ZSc6Jyd9YDsKICAgICAgICAKICAgICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXktZ3JpZCcpOwogICAgICAgIG92ZXJsYXkuY2xhc3NOYW1lID0gYG92ZXJsYXktZ3JpZCAke21vZGU9PT0nZHJhZyc/J2RyYWctbW9kZSc6J2ZpbmV0dW5lLW1vZGUnfWA7CiAgICB9CgogICAgLy8gLS0tIEdSSUQgTE9HSUMgLS0tCiAgICBmdW5jdGlvbiBpbml0aWFsaXplU2xvdHMoKSB7CiAgICAgICAgY29uc3QgY29scyA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmlkQ29scycpLnZhbHVlKTsKICAgICAgICBjb25zdCByb3dzID0gcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyaWRSb3dzJykudmFsdWUpOwogICAgICAgIGNvbnN0IGNvdW50ID0gY29scyAqIHJvd3M7CiAgICAgICAgCiAgICAgICAgc2xvdENvbmZpZ3MgPSBBcnJheShjb3VudCkuZmlsbCgwKS5tYXAoKCkgPT4gKHsKICAgICAgICAgICAgbnVtOiB7IC4uLmRlZmF1bHROdW0gfSwKICAgICAgICAgICAgbmFtZTogeyAuLi5kZWZhdWx0TmFtZSB9CiAgICAgICAgfSkpOwogICAgICAgIAogICAgICAgIGRyYXdHcmlkKCk7CiAgICB9CgogICAgZnVuY3Rpb24gZHJhd0dyaWQoKSB7CiAgICAgICAgaWYgKCFpbWdPYmopIHJldHVybjsKICAgICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXktZ3JpZCcpOwogICAgICAgIG92ZXJsYXkuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgCiAgICAgICAgLy8gVXBkYXRlIHNsaWRlciBkaXNwbGF5cwogICAgICAgIFsnQ29scycsICdSb3dzJywgJ0dhcFgnLCAnR2FwWSddLmZvckVhY2goayA9PiB7CiAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFsJytrKS5pbm5lclRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JpZCcraykudmFsdWU7CiAgICAgICAgfSk7CgogICAgICAgIGNvbnN0IGdyaWRYID0gcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyaWRYJykudmFsdWUpOwogICAgICAgIGNvbnN0IGdyaWRZID0gcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyaWRZJykudmFsdWUpOwogICAgICAgIGNvbnN0IGdyaWRXID0gcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyaWRXJykudmFsdWUpOwogICAgICAgIGNvbnN0IGdyaWRIID0gcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyaWRIJykudmFsdWUpOwogICAgICAgIGNvbnN0IGNvbHMgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JpZENvbHMnKS52YWx1ZSk7CiAgICAgICAgY29uc3Qgcm93cyA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmlkUm93cycpLnZhbHVlKTsKICAgICAgICBjb25zdCBnYXBYID0gcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyaWRHYXBYJykudmFsdWUpIC8gMTA7CiAgICAgICAgY29uc3QgZ2FwWSA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmlkR2FwWScpLnZhbHVlKSAvIDEwOwoKICAgICAgICBjb25zdCBjZWxsVyA9IChncmlkVyAtIChjb2xzIC0gMSkgKiBnYXBYKSAvIGNvbHM7CiAgICAgICAgY29uc3QgY2VsbEggPSAoZ3JpZEggLSAocm93cyAtIDEpICogZ2FwWSkgLyByb3dzOwoKICAgICAgICBpZihzbG90Q29uZmlncy5sZW5ndGggPCBjb2xzICogcm93cykgewogICAgICAgICAgICAgd2hpbGUoc2xvdENvbmZpZ3MubGVuZ3RoIDwgY29scypyb3dzKSBzbG90Q29uZmlncy5wdXNoKHsgbnVtOiB7Li4uZGVmYXVsdE51bX0sIG5hbWU6IHsuLi5kZWZhdWx0TmFtZX0gfSk7CiAgICAgICAgfQoKICAgICAgICBzbG90Q29uZmlncy5zbGljZSgwLCBjb2xzKnJvd3MpLmZvckVhY2goKGNvbmYsIGkpID0+IHsKICAgICAgICAgICAgY29uc3QgciA9IE1hdGguZmxvb3IoaSAvIGNvbHMpOwogICAgICAgICAgICBjb25zdCBjID0gaSAlIGNvbHM7CgogICAgICAgICAgICBjb25zdCBsZWZ0ID0gZ3JpZFggKyAoYyAqIChjZWxsVyArIGdhcFgpKTsKICAgICAgICAgICAgY29uc3QgdG9wID0gZ3JpZFkgKyAociAqIChjZWxsSCArIGdhcFkpKTsKCiAgICAgICAgICAgIC8vIENyZWF0ZSBDZWxsIEJveAogICAgICAgICAgICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgYm94LmNsYXNzTmFtZSA9ICdncmlkLWJveCc7CiAgICAgICAgICAgIGJveC5zdHlsZS5sZWZ0ID0gbGVmdCArICclJzsKICAgICAgICAgICAgYm94LnN0eWxlLnRvcCA9IHRvcCArICclJzsKICAgICAgICAgICAgYm94LnN0eWxlLndpZHRoID0gY2VsbFcgKyAnJSc7CiAgICAgICAgICAgIGJveC5zdHlsZS5oZWlnaHQgPSBjZWxsSCArICclJzsKICAgICAgICAgICAgYm94LmRhdGFzZXQuaWR4ID0gaTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE9ubHkgYWRkIGNsaWNrIGxpc3RlbmVyIGluIGZpbmV0dW5lIG1vZGUKICAgICAgICAgICAgYm94Lm9uY2xpY2sgPSAoZSkgPT4geyBpZih1aU1vZGUgPT09ICdmaW5ldHVuZScpIG9wZW5Nb2RhbChpKTsgfTsKCiAgICAgICAgICAgIC8vIENyZWF0ZSBTY2FubmVycwogICAgICAgICAgICBjb25zdCBudW1Cb3ggPSBjcmVhdGVTY2FuQm94KGksICdudW0nLCBjb25mLm51bSk7CiAgICAgICAgICAgIGNvbnN0IG5hbWVCb3ggPSBjcmVhdGVTY2FuQm94KGksICduYW1lJywgY29uZi5uYW1lKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGJveC5hcHBlbmRDaGlsZChudW1Cb3gpOwogICAgICAgICAgICBib3guYXBwZW5kQ2hpbGQobmFtZUJveCk7CiAgICAgICAgICAgIG92ZXJsYXkuYXBwZW5kQ2hpbGQoYm94KTsKICAgICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBjcmVhdGVTY2FuQm94KGlkeCwgdHlwZSwgZGltcykgewogICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgZWwuY2xhc3NOYW1lID0gYHNjYW4tYm94IHNjYW4tJHt0eXBlfWA7CiAgICAgICAgZWwuc3R5bGUubGVmdCA9IGRpbXMueCArICclJzsKICAgICAgICBlbC5zdHlsZS50b3AgPSBkaW1zLnkgKyAnJSc7CiAgICAgICAgZWwuc3R5bGUud2lkdGggPSBkaW1zLncgKyAnJSc7CiAgICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gZGltcy5oICsgJyUnOwogICAgICAgIAogICAgICAgIGVsLm9ubW91c2Vkb3duID0gKGUpID0+IHsKICAgICAgICAgICAgaWYodWlNb2RlICE9PSAnZHJhZycpIHJldHVybjsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBzdGFydERyYWcoZSwgaWR4LCB0eXBlLCBlbCk7CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gZWw7CiAgICB9CgogICAgLy8gLS0tIERSQUcgTE9HSUMgLS0tCiAgICBmdW5jdGlvbiBzdGFydERyYWcoZSwgaWR4LCB0eXBlLCBlbCkgewogICAgICAgIGNvbnN0IHJlY3QgPSBlbC5wYXJlbnROb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyAvLyBQYXJlbnQgR3JpZCBCb3gKICAgICAgICBkcmFnVGFyZ2V0ID0gewogICAgICAgICAgICBpZHg6IGlkeCwKICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgc3RhcnRYOiBlLmNsaWVudFgsCiAgICAgICAgICAgIHN0YXJ0WTogZS5jbGllbnRZLAogICAgICAgICAgICBwYXJlbnRXOiByZWN0LndpZHRoLAogICAgICAgICAgICBwYXJlbnRIOiByZWN0LmhlaWdodCwKICAgICAgICAgICAgc3RhcnRMZWZ0OiBzbG90Q29uZmlnc1tpZHhdW3R5cGVdLngsCiAgICAgICAgICAgIHN0YXJ0VG9wOiBzbG90Q29uZmlnc1tpZHhdW3R5cGVdLnkKICAgICAgICB9OwogICAgfQoKICAgIGZ1bmN0aW9uIGhhbmRsZURyYWdNb3ZlKGUpIHsKICAgICAgICBpZiAoIWRyYWdUYXJnZXQpIHJldHVybjsKICAgICAgICAKICAgICAgICBjb25zdCBkeFB4ID0gZS5jbGllbnRYIC0gZHJhZ1RhcmdldC5zdGFydFg7CiAgICAgICAgY29uc3QgZHlQeCA9IGUuY2xpZW50WSAtIGRyYWdUYXJnZXQuc3RhcnRZOwogICAgICAgIAogICAgICAgIGNvbnN0IGR4UGN0ID0gKGR4UHggLyBkcmFnVGFyZ2V0LnBhcmVudFcpICogMTAwOwogICAgICAgIGNvbnN0IGR5UGN0ID0gKGR5UHggLyBkcmFnVGFyZ2V0LnBhcmVudEgpICogMTAwOwogICAgICAgIAogICAgICAgIGxldCBuZXdYID0gZHJhZ1RhcmdldC5zdGFydExlZnQgKyBkeFBjdDsKICAgICAgICBsZXQgbmV3WSA9IGRyYWdUYXJnZXQuc3RhcnRUb3AgKyBkeVBjdDsKICAgICAgICAKICAgICAgICBuZXdYID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCBuZXdYKSk7CiAgICAgICAgbmV3WSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgbmV3WSkpOwogICAgICAgIAogICAgICAgIHNsb3RDb25maWdzW2RyYWdUYXJnZXQuaWR4XVtkcmFnVGFyZ2V0LnR5cGVdLnggPSBuZXdYOwogICAgICAgIHNsb3RDb25maWdzW2RyYWdUYXJnZXQuaWR4XVtkcmFnVGFyZ2V0LnR5cGVdLnkgPSBuZXdZOwogICAgICAgIAogICAgICAgIGRyYXdHcmlkKCk7IAogICAgfQoKICAgIGZ1bmN0aW9uIGhhbmRsZURyYWdFbmQoKSB7CiAgICAgICAgZHJhZ1RhcmdldCA9IG51bGw7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHJlc2V0R3JpZCgpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JpZENvbHMnKS52YWx1ZSA9IGRlZmF1bHRHcmlkLmNvbHM7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyaWRSb3dzJykudmFsdWUgPSBkZWZhdWx0R3JpZC5yb3dzOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmlkWCcpLnZhbHVlID0gZGVmYXVsdEdyaWQueDsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JpZFknKS52YWx1ZSA9IGRlZmF1bHRHcmlkLnk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyaWRXJykudmFsdWUgPSBkZWZhdWx0R3JpZC53OwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmlkSCcpLnZhbHVlID0gZGVmYXVsdEdyaWQuaDsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JpZEdhcFgnKS52YWx1ZSA9IGRlZmF1bHRHcmlkLmdhcFg7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyaWRHYXBZJykudmFsdWUgPSBkZWZhdWx0R3JpZC5nYXBZOwogICAgICAgIGluaXRpYWxpemVTbG90cygpOwogICAgfQoKICAgIC8vIC0tLSBBVVRPIEFMSUdOTUVOVCAtLS0KICAgIGZ1bmN0aW9uIGF1dG9BbGlnbkdyaWRDb3JuZXJzKCkgewogICAgICAgIGlmKCFpbWdPYmopIHJldHVybjsKICAgICAgICBjb25zdCBzdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzLW1zZycpOwogICAgICAgIHN0YXR1cy5pbm5lckhUTUwgPSAnPHNwYW4gc3R5bGU9ImNvbG9yOiM1OGE2ZmYiPkRldGVjdGluZyBzbG90IGNvcm5lcnMuLi48L3NwYW4+JzsKCiAgICAgICAgY29uc3QgYWRqdXN0UG9zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dG9HcmlkUG9zJyk/LmNoZWNrZWQgIT09IGZhbHNlOwogICAgICAgIGNvbnN0IGFkanVzdFNpemUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0b0dyaWRTaXplJyk/LmNoZWNrZWQgIT09IGZhbHNlOwoKICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsKICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICBjYW52YXMud2lkdGggPSBpbWdPYmoubmF0dXJhbFdpZHRoOwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWdPYmoubmF0dXJhbEhlaWdodDsKICAgICAgICBjdHguZHJhd0ltYWdlKGltZ09iaiwgMCwgMCk7CgogICAgICAgIGNvbnN0IGltZ0RhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgICAgY29uc3QgZCA9IGltZ0RhdGEuZGF0YTsKICAgICAgICBsZXQgbWluWCA9IGNhbnZhcy53aWR0aCwgbWluWSA9IGNhbnZhcy5oZWlnaHQsIG1heFggPSAwLCBtYXhZID0gMDsKICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTsKCiAgICAgICAgLy8gT25seSBzZWFyY2ggaW5zaWRlIGEgc2FmZSBiYW5kIHRvIGF2b2lkIGhlYWRlci9mb290ZXIgbm9pc2UKICAgICAgICBjb25zdCBsZWZ0TWFyZ2luID0gTWF0aC5mbG9vcihjYW52YXMud2lkdGggKiAwLjA1KTsKICAgICAgICBjb25zdCByaWdodE1hcmdpbiA9IE1hdGguZmxvb3IoY2FudmFzLndpZHRoICogMC4wNSk7CiAgICAgICAgY29uc3QgdG9wTWFyZ2luID0gTWF0aC5mbG9vcihjYW52YXMuaGVpZ2h0ICogMC4xMik7CiAgICAgICAgY29uc3QgYm90dG9tTWFyZ2luID0gTWF0aC5mbG9vcihjYW52YXMuaGVpZ2h0ICogMC4xOCk7CgogICAgICAgIGZvcihsZXQgeSA9IHRvcE1hcmdpbjsgeSA8IGNhbnZhcy5oZWlnaHQgLSBib3R0b21NYXJnaW47IHkrKykgewogICAgICAgICAgICBmb3IobGV0IHggPSBsZWZ0TWFyZ2luOyB4IDwgY2FudmFzLndpZHRoIC0gcmlnaHRNYXJnaW47IHgrKykgewogICAgICAgICAgICAgICAgY29uc3QgaSA9ICh5ICogY2FudmFzLndpZHRoICsgeCkgKiA0OwogICAgICAgICAgICAgICAgY29uc3Qgcj1kW2ldLCBnPWRbaSsxXSwgYj1kW2krMl07CiAgICAgICAgICAgICAgICBjb25zdCBtYXhjID0gTWF0aC5tYXgocixnLGIpLCBtaW5jID0gTWF0aC5taW4ocixnLGIpOwogICAgICAgICAgICAgICAgY29uc3QgYnJpZ2h0ID0gbWF4YyA+IDE3MDsKICAgICAgICAgICAgICAgIGNvbnN0IGxvd1NhdCA9IChtYXhjIC0gbWluYykgPCA0MDsKICAgICAgICAgICAgICAgIGlmKGJyaWdodCAmJiBsb3dTYXQpIHsKICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgaWYoeCA8IG1pblgpIG1pblggPSB4OwogICAgICAgICAgICAgICAgICAgIGlmKHkgPCBtaW5ZKSBtaW5ZID0geTsKICAgICAgICAgICAgICAgICAgICBpZih4ID4gbWF4WCkgbWF4WCA9IHg7CiAgICAgICAgICAgICAgICAgICAgaWYoeSA+IG1heFkpIG1heFkgPSB5OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjb25zdCBkZWZhdWx0cyA9IHsgeDogZGVmYXVsdEdyaWQueCwgeTogZGVmYXVsdEdyaWQueSwgdzogZGVmYXVsdEdyaWQudywgaDogZGVmYXVsdEdyaWQuaCB9OwogICAgICAgIGlmKGZvdW5kKSB7CiAgICAgICAgICAgIGNvbnN0IGltZ1cgPSBjYW52YXMud2lkdGgsIGltZ0ggPSBjYW52YXMuaGVpZ2h0OwogICAgICAgICAgICBjb25zdCBneCA9ICgobWluWCAvIGltZ1cpICogMTAwKTsKICAgICAgICAgICAgY29uc3QgZ3kgPSAoKG1pblkgLyBpbWdIKSAqIDEwMCk7CiAgICAgICAgICAgIGNvbnN0IGd3ID0gKCgobWF4WCAtIG1pblgpIC8gaW1nVykgKiAxMDApOwogICAgICAgICAgICBjb25zdCBnaCA9ICgoKG1heFkgLSBtaW5ZKSAvIGltZ0gpICogMTAwKTsKCiAgICAgICAgICAgIC8vIHNhbml0eSBjbGFtcAogICAgICAgICAgICBpZihnaCA8IDkwICYmIGdoID4gMjApIHsKICAgICAgICAgICAgICAgIGlmKGFkanVzdFBvcykgewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmlkWCcpLnZhbHVlID0gZ3gudG9GaXhlZCgxKTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JpZFknKS52YWx1ZSA9IGd5LnRvRml4ZWQoMSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZihhZGp1c3RTaXplKSB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyaWRXJykudmFsdWUgPSBndy50b0ZpeGVkKDEpOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmlkSCcpLnZhbHVlID0gZ2gudG9GaXhlZCgxKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRyYXdHcmlkKCk7CiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgZGVmYXVsdHMgc28gcmVzZXQgdXNlcyB0aGUgZGV0ZWN0ZWQgdmFsdWVzCiAgICAgICAgICAgICAgICBpZihhZGp1c3RQb3MpIHsgZGVmYXVsdEdyaWQueCA9IHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyaWRYJykudmFsdWUpOyBkZWZhdWx0R3JpZC55ID0gcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JpZFknKS52YWx1ZSk7IH0KICAgICAgICAgICAgICAgIGlmKGFkanVzdFNpemUpIHsgZGVmYXVsdEdyaWQudyA9IHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyaWRXJykudmFsdWUpOyBkZWZhdWx0R3JpZC5oID0gcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JpZEgnKS52YWx1ZSk7IH0KICAgICAgICAgICAgICAgIHN0YXR1cy5pbm5lckhUTUwgPSAnPHNwYW4gc3R5bGU9ImNvbG9yOnZhcigtLXN1Y2Nlc3MpIj5HcmlkIGNvcm5lcnMgYWxpZ25lZC48L3NwYW4+JzsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyBGYWxsYmFjayB0byBkZWZhdWx0cyBpZiBkZXRlY3Rpb24gZmFpbGVkIG9yIHdhcyBpbXBsYXVzaWJsZQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmlkWCcpLnZhbHVlID0gZGVmYXVsdHMueDsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JpZFknKS52YWx1ZSA9IGRlZmF1bHRzLnk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyaWRXJykudmFsdWUgPSBkZWZhdWx0cy53OwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmlkSCcpLnZhbHVlID0gZGVmYXVsdHMuaDsKICAgICAgICBkcmF3R3JpZCgpOwogICAgICAgIHN0YXR1cy5pbm5lckhUTUwgPSAnPHNwYW4gc3R5bGU9ImNvbG9yOnZhcigtLWRhbmdlcikiPlVzZWQgZGVmYXVsdCBncmlkIChjb3JuZXIgZGV0ZWN0aW9uIGZhaWxlZCkuPC9zcGFuPic7CiAgICB9CgogICAgZnVuY3Rpb24gYXV0b0FsaWduSW5uZXIoKSB7CiAgICAgICAgY29uc3Qgc3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1cy1tc2cnKTsKICAgICAgICBzdGF0dXMuaW5uZXJIVE1MID0gJzxzcGFuIHN0eWxlPSJjb2xvcjojNThhNmZmIj5BdXRvLWRldGVjdGluZyBudW1iZXIgJiBuYW1lIGFyZWFzLi4uPC9zcGFuPic7CgogICAgICAgIGNvbnN0IGFkanVzdFBvcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRvSW5uZXJQb3MnKT8uY2hlY2tlZCAhPT0gZmFsc2U7CiAgICAgICAgY29uc3QgYWRqdXN0U2l6ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRvSW5uZXJTaXplJyk/LmNoZWNrZWQgIT09IGZhbHNlOwogICAgICAgIAogICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgIGNhbnZhcy53aWR0aCA9IGltZ09iai5uYXR1cmFsV2lkdGg7CiAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZ09iai5uYXR1cmFsSGVpZ2h0OwogICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nT2JqLCAwLCAwKTsKICAgICAgICAKICAgICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXktZ3JpZCcpOwogICAgICAgIGNvbnN0IGNlbGxzID0gb3ZlcmxheS5jaGlsZHJlbjsgCgogICAgICAgIGZvcihsZXQgaT0wOyBpPGNlbGxzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBjZWxsc1tpXTsKICAgICAgICAgICAgY29uc3QgcmVjdCA9IGNlbGwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IAogICAgICAgICAgICBjb25zdCBpbWdSZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXctaW1nJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IAogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgcmVsWCA9IChyZWN0LmxlZnQgLSBpbWdSZWN0LmxlZnQpIC8gaW1nUmVjdC53aWR0aDsKICAgICAgICAgICAgY29uc3QgcmVsWSA9IChyZWN0LnRvcCAtIGltZ1JlY3QudG9wKSAvIGltZ1JlY3QuaGVpZ2h0OwogICAgICAgICAgICBjb25zdCByZWxXID0gcmVjdC53aWR0aCAvIGltZ1JlY3Qud2lkdGg7CiAgICAgICAgICAgIGNvbnN0IHJlbEggPSByZWN0LmhlaWdodCAvIGltZ1JlY3QuaGVpZ2h0OwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgY3ggPSByZWxYICogY2FudmFzLndpZHRoOwogICAgICAgICAgICBjb25zdCBjeSA9IHJlbFkgKiBjYW52YXMuaGVpZ2h0OwogICAgICAgICAgICBjb25zdCBjdyA9IHJlbFcgKiBjYW52YXMud2lkdGg7CiAgICAgICAgICAgIGNvbnN0IGNoID0gcmVsSCAqIGNhbnZhcy5oZWlnaHQ7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBudW1EZXQgPSBmaW5kVGV4dEJsb2IoY3R4LCBjeCwgY3ksIGN3LCBjaCwgJ2JvdHRvbS1yaWdodCcpOwogICAgICAgICAgICBpZiAobnVtRGV0KSB7CiAgICAgICAgICAgICAgICBpZihhZGp1c3RQb3MpIHsKICAgICAgICAgICAgICAgICAgICBzbG90Q29uZmlnc1tpXS5udW0ueCA9IG51bURldC54OwogICAgICAgICAgICAgICAgICAgIHNsb3RDb25maWdzW2ldLm51bS55ID0gbnVtRGV0Lnk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZihhZGp1c3RTaXplKSB7CiAgICAgICAgICAgICAgICAgICAgc2xvdENvbmZpZ3NbaV0ubnVtLncgPSBudW1EZXQudzsKICAgICAgICAgICAgICAgICAgICBzbG90Q29uZmlnc1tpXS5udW0uaCA9IG51bURldC5oOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBuYW1lRGV0ID0gZmluZFRleHRCbG9iKGN0eCwgY3gsIGN5LCBjdywgY2gsICd0b3AnKTsKICAgICAgICAgICAgaWYgKG5hbWVEZXQpIHsKICAgICAgICAgICAgICAgIGlmKGFkanVzdFBvcykgewogICAgICAgICAgICAgICAgICAgIHNsb3RDb25maWdzW2ldLm5hbWUueCA9IG5hbWVEZXQueDsKICAgICAgICAgICAgICAgICAgICBzbG90Q29uZmlnc1tpXS5uYW1lLnkgPSBuYW1lRGV0Lnk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZihhZGp1c3RTaXplKSB7CiAgICAgICAgICAgICAgICAgICAgc2xvdENvbmZpZ3NbaV0ubmFtZS53ID0gbmFtZURldC53OwogICAgICAgICAgICAgICAgICAgIHNsb3RDb25maWdzW2ldLm5hbWUuaCA9IG5hbWVEZXQuaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBkcmF3R3JpZCgpOwogICAgICAgIC8vIHBlcnNpc3QgZGVmYXVsdHMgZnJvbSBmaXJzdCBzbG90IGlmIHdlIGhhdmUgZGV0ZWN0aW9ucwogICAgICAgIGlmKHNsb3RDb25maWdzLmxlbmd0aCkgewogICAgICAgICAgICBpZihhZGp1c3RQb3MpIHsKICAgICAgICAgICAgICAgIGRlZmF1bHROdW0ueCA9IHNsb3RDb25maWdzWzBdLm51bS54OyBkZWZhdWx0TnVtLnkgPSBzbG90Q29uZmlnc1swXS5udW0ueTsKICAgICAgICAgICAgICAgIGRlZmF1bHROYW1lLnggPSBzbG90Q29uZmlnc1swXS5uYW1lLng7IGRlZmF1bHROYW1lLnkgPSBzbG90Q29uZmlnc1swXS5uYW1lLnk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoYWRqdXN0U2l6ZSkgewogICAgICAgICAgICAgICAgZGVmYXVsdE51bS53ID0gc2xvdENvbmZpZ3NbMF0ubnVtLnc7IGRlZmF1bHROdW0uaCA9IHNsb3RDb25maWdzWzBdLm51bS5oOwogICAgICAgICAgICAgICAgZGVmYXVsdE5hbWUudyA9IHNsb3RDb25maWdzWzBdLm5hbWUudzsgZGVmYXVsdE5hbWUuaCA9IHNsb3RDb25maWdzWzBdLm5hbWUuaDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGF0dXMuaW5uZXJIVE1MID0gJyc7CiAgICB9CgogICAgLy8gQmFja3dhcmRzIGNvbXBhdGliaWxpdHkgaG9vawogICAgZnVuY3Rpb24gYXV0b0FsaWduU2Nhbm5lcnMoKSB7IGF1dG9BbGlnbklubmVyKCk7IH0KCiAgICAvLyBzbWFydGVyIGJsb2IgZGV0ZWN0aW9uIHVzaW5nIGR5bmFtaWMgdGhyZXNob2xkIGFuZCByZWdpb24gbWFza3MKICAgIGZ1bmN0aW9uIGZpbmRUZXh0QmxvYihjdHgsIGN4LCBjeSwgY3csIGNoLCB6b25lKSB7CiAgICAgICAgY29uc3QgaW1nRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoY3gsIGN5LCBjdywgY2gpOwogICAgICAgIGNvbnN0IGRhdGEgPSBpbWdEYXRhLmRhdGE7CgogICAgICAgIGxldCBzdGFydFkgPSAwLCBlbmRZID0gY2gsIHN0YXJ0WCA9IDAsIGVuZFggPSBjdzsKICAgICAgICBpZih6b25lID09PSAnYm90dG9tLXJpZ2h0JykgewogICAgICAgICAgICBzdGFydFkgPSBNYXRoLmZsb29yKGNoICogMC41NSk7CiAgICAgICAgICAgIHN0YXJ0WCA9IE1hdGguZmxvb3IoY3cgKiAwLjI1KTsKICAgICAgICAgICAgZW5kWCA9IE1hdGguZmxvb3IoY3cgKiAwLjk4KTsKICAgICAgICB9IGVsc2UgaWYoem9uZSA9PT0gJ3RvcCcpIHsKICAgICAgICAgICAgZW5kWSA9IE1hdGguZmxvb3IoY2ggKiAwLjUwKTsKICAgICAgICAgICAgc3RhcnRYID0gTWF0aC5mbG9vcihjdyAqIDAuMDgpOwogICAgICAgICAgICBlbmRYID0gTWF0aC5mbG9vcihjdyAqIDAuOTIpOwogICAgICAgIH0KCiAgICAgICAgLy8gY29tcHV0ZSBicmlnaHRuZXNzIHN0YXRzIGluIHJlZ2lvbgogICAgICAgIGxldCBzdW0gPSAwLCBzdW1TcSA9IDAsIGNvdW50ID0gMDsKICAgICAgICBmb3IobGV0IHkgPSBzdGFydFk7IHkgPCBlbmRZOyB5KyspIHsKICAgICAgICAgICAgZm9yKGxldCB4ID0gc3RhcnRYOyB4IDwgZW5kWDsgeCsrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBpZHggPSAoeSAqIGN3ICsgeCkgKiA0OwogICAgICAgICAgICAgICAgY29uc3QgciA9IGRhdGFbaWR4XSwgZyA9IGRhdGFbaWR4KzFdLCBiID0gZGF0YVtpZHgrMl07CiAgICAgICAgICAgICAgICBjb25zdCBicmlnaHRuZXNzID0gKHIrZytiKS8zOwogICAgICAgICAgICAgICAgc3VtICs9IGJyaWdodG5lc3M7IHN1bVNxICs9IGJyaWdodG5lc3MqYnJpZ2h0bmVzczsgY291bnQrKzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZighY291bnQpIHJldHVybiBudWxsOwogICAgICAgIGNvbnN0IG1lYW4gPSBzdW0gLyBjb3VudDsKICAgICAgICBjb25zdCB2YXJpYW5jZSA9IChzdW1TcSAvIGNvdW50KSAtIChtZWFuKm1lYW4pOwogICAgICAgIGNvbnN0IHN0ZCA9IE1hdGguc3FydChNYXRoLm1heCh2YXJpYW5jZSwgMCkpOwogICAgICAgIGNvbnN0IHRocmVzaG9sZCA9IG1lYW4gKyBzdGQgKiAwLjY7CgogICAgICAgIGxldCBtaW5YID0gY3csIG1heFggPSAwLCBtaW5ZID0gY2gsIG1heFkgPSAwOwogICAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgICAgIGZvcihsZXQgeSA9IHN0YXJ0WTsgeSA8IGVuZFk7IHkrKykgewogICAgICAgICAgICBmb3IobGV0IHggPSBzdGFydFg7IHggPCBlbmRYOyB4KyspIHsKICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9ICh5ICogY3cgKyB4KSAqIDQ7CiAgICAgICAgICAgICAgICBjb25zdCByID0gZGF0YVtpZHhdLCBnID0gZGF0YVtpZHgrMV0sIGIgPSBkYXRhW2lkeCsyXTsKICAgICAgICAgICAgICAgIGNvbnN0IGJyaWdodG5lc3MgPSAocitnK2IpLzM7CiAgICAgICAgICAgICAgICBpZiAoYnJpZ2h0bmVzcyA+PSB0aHJlc2hvbGQpIHsKICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKHggPCBtaW5YKSBtaW5YID0geDsKICAgICAgICAgICAgICAgICAgICBpZiAoeCA+IG1heFgpIG1heFggPSB4OwogICAgICAgICAgICAgICAgICAgIGlmICh5IDwgbWluWSkgbWluWSA9IHk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHkgPiBtYXhZKSBtYXhZID0geTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZighZm91bmQpIHJldHVybiBudWxsOwoKICAgICAgICBjb25zdCBwYWQgPSAyOwogICAgICAgIG1pblggPSBNYXRoLm1heCgwLCBtaW5YIC0gcGFkKTsKICAgICAgICBtYXhYID0gTWF0aC5taW4oY3csIG1heFggKyBwYWQpOwogICAgICAgIG1pblkgPSBNYXRoLm1heCgwLCBtaW5ZIC0gcGFkKTsKICAgICAgICBtYXhZID0gTWF0aC5taW4oY2gsIG1heFkgKyBwYWQpOwoKICAgICAgICAvLyBtaW5pbWFsIHNpemVzCiAgICAgICAgaWYgKChtYXhYIC0gbWluWCkgPCBjdyAqIDAuMDgpIG1heFggPSBNYXRoLm1pbihjdywgbWluWCArIGN3ICogMC4wOCk7CiAgICAgICAgaWYgKChtYXhZIC0gbWluWSkgPCBjaCAqIDAuMDgpIG1heFkgPSBNYXRoLm1pbihjaCwgbWluWSArIGNoICogMC4wOCk7CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHg6IChtaW5YIC8gY3cpICogMTAwLAogICAgICAgICAgICB5OiAobWluWSAvIGNoKSAqIDEwMCwKICAgICAgICAgICAgdzogKChtYXhYIC0gbWluWCkgLyBjdykgKiAxMDAsCiAgICAgICAgICAgIGg6ICgobWF4WSAtIG1pblkpIC8gY2gpICogMTAwCiAgICAgICAgfTsKICAgIH0KCiAgICAvLyAtLS0gT0NSICYgUFJPQ0VTU0lORyAtLS0KICAgIGFzeW5jIGZ1bmN0aW9uIHJ1bkZ1bGxTY2FuKCkgewogICAgICAgIGlmICghaW1nT2JqKSByZXR1cm47CiAgICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjYW4tYnRuJyk7CiAgICAgICAgY29uc3Qgc3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1cy1tc2cnKTsKICAgICAgICBidG4uZGlzYWJsZWQgPSB0cnVlOwogICAgICAgIHNjYW5SZXN1bHRzID0gW107CgogICAgICAgIGNvbnN0IHdvcmtlck51bSA9IFRlc3NlcmFjdC5jcmVhdGVXb3JrZXIoKTsKICAgICAgICBjb25zdCB3b3JrZXJUZXh0ID0gVGVzc2VyYWN0LmNyZWF0ZVdvcmtlcigpOwogICAgICAgIAogICAgICAgIHN0YXR1cy5pbm5lclRleHQgPSAiSW5pdGlhbGl6aW5nIE9DUiBFbmdpbmVzLi4uIjsKICAgICAgICAKICAgICAgICBhd2FpdCB3b3JrZXJOdW0ubG9hZCgpOyBhd2FpdCB3b3JrZXJOdW0ubG9hZExhbmd1YWdlKCdlbmcnKTsgYXdhaXQgd29ya2VyTnVtLmluaXRpYWxpemUoJ2VuZycpOwogICAgICAgIGF3YWl0IHdvcmtlck51bS5zZXRQYXJhbWV0ZXJzKHsgCiAgICAgICAgICAgIHRlc3NlZGl0X2NoYXJfd2hpdGVsaXN0OiAnMDEyMzQ1Njc4OScsCiAgICAgICAgICAgIHRlc3NlZGl0X3BhZ2VzZWdfbW9kZTogVGVzc2VyYWN0LlBTTS5TSU5HTEVfV09SRCAKICAgICAgICB9KTsKICAgICAgICAKICAgICAgICBhd2FpdCB3b3JrZXJUZXh0LmxvYWQoKTsgYXdhaXQgd29ya2VyVGV4dC5sb2FkTGFuZ3VhZ2UoJ2VuZycpOyBhd2FpdCB3b3JrZXJUZXh0LmluaXRpYWxpemUoJ2VuZycpOwoKICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsKICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICBjb25zdCBzY2FsZSA9IDIuNTsgCiAgICAgICAgY2FudmFzLndpZHRoID0gaW1nT2JqLm5hdHVyYWxXaWR0aCAqIHNjYWxlOwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWdPYmoubmF0dXJhbEhlaWdodCAqIHNjYWxlOwogICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nT2JqLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwoKICAgICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXktZ3JpZCcpOwogICAgICAgIGNvbnN0IGNlbGxzID0gb3ZlcmxheS5jaGlsZHJlbjsKCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjZWxscy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBzdGF0dXMuaW5uZXJIVE1MID0gYFNjYW5uaW5nIFNsb3QgJHtpKzF9LyR7Y2VsbHMubGVuZ3RofWA7CiAgICAgICAgICAgIGNlbGxzW2ldLmNsYXNzTGlzdC5hZGQoJ3NjYW5uaW5nJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBjZWxsUmVjdCA9IGNlbGxzW2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICBjb25zdCBpbWdSZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXctaW1nJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBjZWxsWCA9ICgoY2VsbFJlY3QubGVmdCAtIGltZ1JlY3QubGVmdCkgLyBpbWdSZWN0LndpZHRoKSAqIGNhbnZhcy53aWR0aDsKICAgICAgICAgICAgY29uc3QgY2VsbFkgPSAoKGNlbGxSZWN0LnRvcCAtIGltZ1JlY3QudG9wKSAvIGltZ1JlY3QuaGVpZ2h0KSAqIGNhbnZhcy5oZWlnaHQ7CiAgICAgICAgICAgIGNvbnN0IGNlbGxXID0gKGNlbGxSZWN0LndpZHRoIC8gaW1nUmVjdC53aWR0aCkgKiBjYW52YXMud2lkdGg7CiAgICAgICAgICAgIGNvbnN0IGNlbGxIID0gKGNlbGxSZWN0LmhlaWdodCAvIGltZ1JlY3QuaGVpZ2h0KSAqIGNhbnZhcy5oZWlnaHQ7CgogICAgICAgICAgICBjb25zdCBjb25mID0gc2xvdENvbmZpZ3NbaV07CgogICAgICAgICAgICAvLyAxLiBTY2FuIE51bWJlcgogICAgICAgICAgICBjb25zdCBueCA9IGNlbGxYICsgKGNlbGxXICogKGNvbmYubnVtLngvMTAwKSk7CiAgICAgICAgICAgIGNvbnN0IG55ID0gY2VsbFkgKyAoY2VsbEggKiAoY29uZi5udW0ueS8xMDApKTsKICAgICAgICAgICAgY29uc3QgbncgPSBjZWxsVyAqIChjb25mLm51bS53LzEwMCk7CiAgICAgICAgICAgIGNvbnN0IG5oID0gY2VsbEggKiAoY29uZi5udW0uaC8xMDApOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgbnVtQmxvYiA9IGN0eC5nZXRJbWFnZURhdGEobngsIG55LCBudywgbmgpOwogICAgICAgICAgICBwcmVwcm9jZXNzRm9yTnVtYmVycyhudW1CbG9iKTsgCiAgICAgICAgICAgIGNvbnN0IG51bUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICAgICAgICBudW1DYW52YXMud2lkdGggPSBudzsgbnVtQ2FudmFzLmhlaWdodCA9IG5oOwogICAgICAgICAgICBudW1DYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5wdXRJbWFnZURhdGEobnVtQmxvYiwgMCwwKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IG51bVJlcyA9IGF3YWl0IHdvcmtlck51bS5yZWNvZ25pemUobnVtQ2FudmFzKTsKICAgICAgICAgICAgY29uc3QgcXR5U3RyID0gbnVtUmVzLmRhdGEudGV4dC5yZXBsYWNlKC9cRC9nLCAnJyk7IAogICAgICAgICAgICBjb25zdCBxdHkgPSBwYXJzZUludChxdHlTdHIpIHx8IDA7CgogICAgICAgICAgICAvLyAyLiBTY2FuIE5hbWUKICAgICAgICAgICAgbGV0IG5hbWVNYXRjaCA9ICIiOwogICAgICAgICAgICBsZXQgcmF3TmFtZSA9ICIiOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKHF0eSA+IDApIHsKICAgICAgICAgICAgICAgIGNvbnN0IHR4ID0gY2VsbFggKyAoY2VsbFcgKiAoY29uZi5uYW1lLngvMTAwKSk7CiAgICAgICAgICAgICAgICBjb25zdCB0eSA9IGNlbGxZICsgKGNlbGxIICogKGNvbmYubmFtZS55LzEwMCkpOwogICAgICAgICAgICAgICAgY29uc3QgdHcgPSBjZWxsVyAqIChjb25mLm5hbWUudy8xMDApOwogICAgICAgICAgICAgICAgY29uc3QgdGggPSBjZWxsSCAqIChjb25mLm5hbWUuaC8xMDApOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBuYW1lQmxvYiA9IGN0eC5nZXRJbWFnZURhdGEodHgsIHR5LCB0dywgdGgpOwogICAgICAgICAgICAgICAgaW52ZXJ0SW1hZ2UobmFtZUJsb2IpOwogICAgICAgICAgICAgICAgY29uc3QgbmFtZUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICAgICAgICAgICAgbmFtZUNhbnZhcy53aWR0aCA9IHR3OyBuYW1lQ2FudmFzLmhlaWdodCA9IHRoOwogICAgICAgICAgICAgICAgbmFtZUNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLnB1dEltYWdlRGF0YShuYW1lQmxvYiwgMCwwKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgdGV4dFJlcyA9IGF3YWl0IHdvcmtlclRleHQucmVjb2duaXplKG5hbWVDYW52YXMpOwogICAgICAgICAgICAgICAgcmF3TmFtZSA9IHRleHRSZXMuZGF0YS50ZXh0LnRyaW0oKS5yZXBsYWNlKC9bXmEtekEtWlxzXS9nLCAnJyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gZnV6enlNYXRjaE9yZShyYXdOYW1lKTsKICAgICAgICAgICAgICAgIGlmIChtYXRjaC5zY29yZSA+IDAuNCkgewogICAgICAgICAgICAgICAgICAgIG5hbWVNYXRjaCA9IG1hdGNoLm5hbWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYocmF3TmFtZS5sZW5ndGggPiAyKSB7CiAgICAgICAgICAgICAgICAgICAgbmFtZU1hdGNoID0gcmF3TmFtZTsgLy8gRmFsbGJhY2sgdG8gcmF3IHRleHQgaWYgbm8gbWF0Y2gKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbmFtZU1hdGNoID0gIlVua25vd24iOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZihxdHkgPiAwKSB7CiAgICAgICAgICAgICAgICBzY2FuUmVzdWx0cy5wdXNoKHsgaWQ6IERhdGUubm93KCkraSwgbmFtZTogbmFtZU1hdGNoLCBjb3VudDogcXR5IH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNlbGxzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ3NjYW5uaW5nJyk7CiAgICAgICAgfQoKICAgICAgICBhd2FpdCB3b3JrZXJOdW0udGVybWluYXRlKCk7CiAgICAgICAgYXdhaXQgd29ya2VyVGV4dC50ZXJtaW5hdGUoKTsKICAgICAgICAKICAgICAgICBzdGF0dXMuaW5uZXJIVE1MID0gIjxzcGFuIHN0eWxlPSdjb2xvcjp2YXIoLS1zdWNjZXNzKSc+4pyTIFNjYW4gQ29tcGxldGU8L3NwYW4+IjsKICAgICAgICBidG4uZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICByZW5kZXJSZXN1bHRzKCk7CiAgICB9CgogICAgZnVuY3Rpb24gcHJlcHJvY2Vzc0Zvck51bWJlcnMoaW1nRGF0YSkgewogICAgICAgIGNvbnN0IGQgPSBpbWdEYXRhLmRhdGE7CiAgICAgICAgZm9yKGxldCBpPTA7IGk8ZC5sZW5ndGg7IGkrPTQpIHsKICAgICAgICAgICAgY29uc3Qgcj1kW2ldLCBnPWRbaSsxXSwgYj1kW2krMl07CiAgICAgICAgICAgIGNvbnN0IGF2ZyA9IChyK2crYikvMzsKICAgICAgICAgICAgaWYgKGF2ZyA+IDEzMCkgeyAKICAgICAgICAgICAgICAgIGRbaV09MDsgZFtpKzFdPTA7IGRbaSsyXT0wOyAvLyBCbGFjayB0ZXh0CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBkW2ldPTI1NTsgZFtpKzFdPTI1NTsgZFtpKzJdPTI1NTsgLy8gV2hpdGUgQkcKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBpbnZlcnRJbWFnZShpbWdEYXRhKSB7CiAgICAgICAgY29uc3QgZCA9IGltZ0RhdGEuZGF0YTsKICAgICAgICBmb3IobGV0IGk9MDsgaTxkLmxlbmd0aDsgaSs9NCkgewogICAgICAgICAgICBkW2ldID0gMjU1IC0gZFtpXTsgICAgIAogICAgICAgICAgICBkW2krMV0gPSAyNTUgLSBkW2krMV07IAogICAgICAgICAgICBkW2krMl0gPSAyNTUgLSBkW2krMl07IAogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBmdXp6eU1hdGNoT3JlKHRleHQpIHsKICAgICAgICBpZiAoIXRleHQgfHwgdGV4dC5sZW5ndGggPCAyKSByZXR1cm4geyBuYW1lOiAiVW5rbm93biIsIHNjb3JlOiAwIH07CiAgICAgICAgdGV4dCA9IHRleHQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bXmEteiBdL2csICcnKTsgCiAgICAgICAgCiAgICAgICAgbGV0IGJlc3QgPSB7IG5hbWU6ICJVbmtub3duIiwgc2NvcmU6IDAgfTsKICAgICAgICBPUkVTLmZvckVhY2gob3JlID0+IHsKICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gb3JlLm5hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgY29uc3Qgc2NvcmUgPSBnZXRTaW1pbGFyaXR5KHRleHQsIHRhcmdldCk7CiAgICAgICAgICAgIGlmIChzY29yZSA+IGJlc3Quc2NvcmUpIGJlc3QgPSB7IG5hbWU6IG9yZS5uYW1lLCBzY29yZTogc2NvcmUsIGRhdGE6IG9yZSB9OwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBiZXN0OwogICAgfQogICAgCiAgICBmdW5jdGlvbiBnZXRTaW1pbGFyaXR5KHMxLCBzMikgewogICAgICAgIGNvbnN0IGJpZ3JhbXMgPSAoc3RyKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHJlcyA9IFtdOwogICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxzdHIubGVuZ3RoLTE7IGkrKykgcmVzLnB1c2goc3RyLnN1YnN0cihpLDIpKTsKICAgICAgICAgICAgcmV0dXJuIHJlczsKICAgICAgICB9OwogICAgICAgIGNvbnN0IGJnMSA9IGJpZ3JhbXMoczEpLCBiZzIgPSBiaWdyYW1zKHMyKTsKICAgICAgICBsZXQgaGl0ID0gMDsKICAgICAgICBiZzEuZm9yRWFjaChiMSA9PiB7IGlmKGJnMi5pbmNsdWRlcyhiMSkpIGhpdCsrOyB9KTsKICAgICAgICByZXR1cm4gKDIgKiBoaXQpIC8gKGJnMS5sZW5ndGggKyBiZzIubGVuZ3RoKTsKICAgIH0KCiAgICAvLyAtLS0gRFlOQU1JQyBSRVNVTFRTIFRBQkxFIC0tLQogICAgZnVuY3Rpb24gcmVuZGVyUmVzdWx0cygpIHsKICAgICAgICBjb25zdCB0Ym9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN1bHRzLWJvZHknKTsKICAgICAgICB0Ym9keS5pbm5lckhUTUwgPSAnJzsKICAgICAgICBsZXQgdG90YWxWYWwgPSAwOwoKICAgICAgICBpZiAoc2NhblJlc3VsdHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIHRib2R5LmlubmVySFRNTCA9ICc8dHI+PHRkIGNvbHNwYW49IjMiIHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjsgcGFkZGluZzoyMHB4OyI+Tm8gaXRlbXMgZm91bmQuPC90ZD48L3RyPic7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3RhbC12YWx1ZScpLmlubmVyVGV4dCA9ICIwIjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgc2NhblJlc3VsdHMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgLy8gRmluZCBpbiBEQiB0byBnZXQgdmFsdWUKICAgICAgICAgICAgY29uc3QgZGJPcmUgPSBPUkVTLmZpbmQobyA9PiBvLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkpOwogICAgICAgICAgICBpZihkYk9yZSkgewogICAgICAgICAgICAgICAgdG90YWxWYWwgKz0gaXRlbS5jb3VudCAqIGRiT3JlLnByaWNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7CiAgICAgICAgICAgIHRyLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgIDx0ZD48c3BhbiBjbGFzcz0icmVtb3ZlLXJvdyIgb25jbGljaz0icmVtb3ZlUmVzdWx0KCR7aW5kZXh9KSI+w5c8L3NwYW4+PC90ZD4KICAgICAgICAgICAgICAgIDx0ZD48aW5wdXQgY2xhc3M9ImVkaXQtaW5wdXQiIHZhbHVlPSIke2l0ZW0ubmFtZX0iIG9uY2hhbmdlPSJ1cGRhdGVSZXN1bHQoJHtpbmRleH0sICduYW1lJywgdGhpcy52YWx1ZSkiPjwvdGQ+CiAgICAgICAgICAgICAgICA8dGQ+PGlucHV0IGNsYXNzPSJlZGl0LWlucHV0IiB0eXBlPSJudW1iZXIiIHZhbHVlPSIke2l0ZW0uY291bnR9IiBvbmNoYW5nZT0idXBkYXRlUmVzdWx0KCR7aW5kZXh9LCAnY291bnQnLCB0aGlzLnZhbHVlKSI+PC90ZD4KICAgICAgICAgICAgYDsKICAgICAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpOwogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3RhbC12YWx1ZScpLmlubmVyVGV4dCA9IHRvdGFsVmFsLnRvRml4ZWQoMik7CiAgICB9CgogICAgZnVuY3Rpb24gdXBkYXRlUmVzdWx0KGluZGV4LCBmaWVsZCwgdmFsKSB7CiAgICAgICAgaWYoZmllbGQgPT09ICdjb3VudCcpIHZhbCA9IHBhcnNlSW50KHZhbCkgfHwgMDsKICAgICAgICBzY2FuUmVzdWx0c1tpbmRleF1bZmllbGRdID0gdmFsOwogICAgICAgIHJlbmRlclJlc3VsdHMoKTsgLy8gUmUtcmVuZGVyIHRvIHVwZGF0ZSB0b3RhbHMKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcmVtb3ZlUmVzdWx0KGluZGV4KSB7CiAgICAgICAgc2NhblJlc3VsdHMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICByZW5kZXJSZXN1bHRzKCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIGFkZE1hbnVhbFJvdygpIHsKICAgICAgICBzY2FuUmVzdWx0cy5wdXNoKHsgaWQ6IERhdGUubm93KCksIG5hbWU6ICJOZXcgSXRlbSIsIGNvdW50OiAxIH0pOwogICAgICAgIHJlbmRlclJlc3VsdHMoKTsKICAgIH0KCiAgICAvLyAtLS0gSU5ERVggRFJBV0VSIC0tLQogICAgZnVuY3Rpb24gdG9nZ2xlSW5kZXgoZm9yY2VDbG9zZSA9IGZhbHNlKSB7CiAgICAgICAgY29uc3QgZHJhd2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luZGV4LWRyYXdlcicpOwogICAgICAgIGlmKCFkcmF3ZXIpIHJldHVybjsKICAgICAgICBjb25zdCBpc09wZW4gPSBkcmF3ZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdzaG93Jyk7CiAgICAgICAgaWYoZm9yY2VDbG9zZSB8fCBpc09wZW4pIGRyYXdlci5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7CiAgICAgICAgZWxzZSBkcmF3ZXIuY2xhc3NMaXN0LmFkZCgnc2hvdycpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlbmRlckluZGV4KCkgewogICAgICAgIGNvbnN0IHdyYXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5kZXgtY29udGVudCcpOwogICAgICAgIGlmKCF3cmFwKSByZXR1cm47CiAgICAgICAgY29uc3Qgb3JlTGlzdCA9IE9SRVMubWFwKG8gPT4gewogICAgICAgICAgICBjb25zdCBiaXRzID0gW107CiAgICAgICAgICAgIGlmKG8uY2hhbmNlKSBiaXRzLnB1c2goby5jaGFuY2UpOwogICAgICAgICAgICBpZihvLm11bHQpIGJpdHMucHVzaChgeCR7by5tdWx0fWApOwogICAgICAgICAgICBpZihvLnByaWNlKSBiaXRzLnB1c2goYCQke28ucHJpY2V9YCk7CiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz0iaW5kZXgtcm93Ij48ZGl2PjxzdHJvbmc+JHtvLm5hbWV9PC9zdHJvbmc+JHtvLnJhcml0eSA/IGA8c3BhbiBjbGFzcz0idGFnIj4ke28ucmFyaXR5fTwvc3Bhbj5gOicnfTwvZGl2PjxkaXYgY2xhc3M9InN1YiI+JHtiaXRzLmpvaW4oJyDigKIgJyl9PC9kaXY+PC9kaXY+YDsKICAgICAgICB9KS5qb2luKCcnKTsKICAgICAgICBjb25zdCBjcmFmdExpc3QgPSBDUkFGVEFCTEVTLm1hcChjID0+IHsKICAgICAgICAgICAgY29uc3QgY29zdCA9IGMub3JlQ29zdCB8fCBjLmNhcCB8fCAwOwogICAgICAgICAgICBjb25zdCBjaGFuY2UgPSBjLnN1Y2Nlc3MgPyBgJHtNYXRoLnJvdW5kKGMuc3VjY2VzcyoxMDApfSVgIDogJyc7CiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz0iaW5kZXgtcm93Ij48ZGl2PjxzdHJvbmc+JHtjLm5hbWV9PC9zdHJvbmc+JHtjaGFuY2UgPyBgPHNwYW4gY2xhc3M9InRhZyI+JHtjaGFuY2V9PC9zcGFuPmA6Jyd9PC9kaXY+PGRpdiBjbGFzcz0ic3ViIj4ke2Nvc3R9IG9yZXM8L2Rpdj48L2Rpdj5gOwogICAgICAgIH0pLmpvaW4oJycpOwogICAgICAgIHdyYXAuaW5uZXJIVE1MID0gYAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbmRleC1zZWN0aW9uIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImluZGV4LXRpdGxlIj5PcmVzPC9kaXY+CiAgICAgICAgICAgICAgICAke29yZUxpc3R9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbmRleC1zZWN0aW9uIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImluZGV4LXRpdGxlIj5JdGVtczwvZGl2PgogICAgICAgICAgICAgICAgJHtjcmFmdExpc3R9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIGA7CiAgICB9CgogICAgLy8gLS0tIE1PREFMIC8gRklORSBUVU5JTkcgLS0tCiAgICBmdW5jdGlvbiBvcGVuTW9kYWwoaWR4KSB7CiAgICAgICAgYWN0aXZlU2xvdCA9IGlkeDsKICAgICAgICBjb25zdCBjb25mID0gc2xvdENvbmZpZ3NbaWR4XTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWwtc2xvdC1pZCcpLmlubmVyVGV4dCA9ICIjIiArIChpZHgrMSk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgICAgICAKICAgICAgICBbJ1gnLCdZJywnVycsJ0gnXS5mb3JFYWNoKGsgPT4gewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbU4nK2spLnZhbHVlID0gY29uZi5udW1bay50b0xvd2VyQ2FzZSgpXTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21UJytrKS52YWx1ZSA9IGNvbmYubmFtZVtrLnRvTG93ZXJDYXNlKCldOwogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIHNldFRhYignbnVtJyk7CiAgICAgICAgdXBkYXRlTW9kYWxQcmV2aWV3KCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNldFRhYihtb2RlKSB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYi1idG4nKS5mb3JFYWNoKGIgPT4gYi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnRhYi1idG4uJHttb2RlID09PSAnbnVtJyA/ICdncmVlbicgOiAnYmx1ZSd9YCkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRyb2xzLW51bScpLnN0eWxlLmRpc3BsYXkgPSBtb2RlID09PSAnbnVtJyA/ICdibG9jaycgOiAnbm9uZSc7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRyb2xzLW5hbWUnKS5zdHlsZS5kaXNwbGF5ID0gbW9kZSA9PT0gJ25hbWUnID8gJ2Jsb2NrJyA6ICdub25lJzsKICAgIH0KCiAgICBmdW5jdGlvbiB1cGRhdGVNb2RhbFByZXZpZXcoKSB7CiAgICAgICAgY29uc3QgY29uZiA9IHNsb3RDb25maWdzW2FjdGl2ZVNsb3RdOwogICAgICAgIFsnWCcsJ1knLCdXJywnSCddLmZvckVhY2goayA9PiB7CiAgICAgICAgICAgIGNvbmYubnVtW2sudG9Mb3dlckNhc2UoKV0gPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbU4nK2spLnZhbHVlKTsKICAgICAgICAgICAgY29uZi5uYW1lW2sudG9Mb3dlckNhc2UoKV0gPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbVQnK2spLnZhbHVlKTsKICAgICAgICB9KTsKCiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsLWNhbnZhcycpOwogICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3ZlcmxheS1ncmlkJyk7CiAgICAgICAgY29uc3QgY2VsbCA9IG92ZXJsYXkuY2hpbGRyZW5bYWN0aXZlU2xvdF07CiAgICAgICAgCiAgICAgICAgY29uc3QgY2VsbFJlY3QgPSBjZWxsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIGNvbnN0IGltZ1JlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldmlldy1pbWcnKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAKICAgICAgICBjb25zdCBzY2FsZVggPSBpbWdPYmoubmF0dXJhbFdpZHRoIC8gaW1nUmVjdC53aWR0aDsKICAgICAgICBjb25zdCBzY2FsZVkgPSBpbWdPYmoubmF0dXJhbEhlaWdodCAvIGltZ1JlY3QuaGVpZ2h0OwogICAgICAgIAogICAgICAgIGNvbnN0IHN4ID0gKGNlbGxSZWN0LmxlZnQgLSBpbWdSZWN0LmxlZnQpICogc2NhbGVYOwogICAgICAgIGNvbnN0IHN5ID0gKGNlbGxSZWN0LnRvcCAtIGltZ1JlY3QudG9wKSAqIHNjYWxlWTsKICAgICAgICBjb25zdCBzdyA9IGNlbGxSZWN0LndpZHRoICogc2NhbGVYOwogICAgICAgIGNvbnN0IHNoID0gY2VsbFJlY3QuaGVpZ2h0ICogc2NhbGVZOwogICAgICAgIAogICAgICAgIGN0eC5jbGVhclJlY3QoMCwwLDE1MCwxNTApOwogICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nT2JqLCBzeCwgc3ksIHN3LCBzaCwgMCwgMCwgMTUwLCAxNTApOwogICAgICAgIAogICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjM2ZiOTUwJzsgY3R4LmxpbmVXaWR0aCA9IDI7CiAgICAgICAgY3R4LnN0cm9rZVJlY3QoMTUwKihjb25mLm51bS54LzEwMCksIDE1MCooY29uZi5udW0ueS8xMDApLCAxNTAqKGNvbmYubnVtLncvMTAwKSwgMTUwKihjb25mLm51bS5oLzEwMCkpOwogICAgICAgIAogICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNThhNmZmJzsKICAgICAgICBjdHguc3Ryb2tlUmVjdCgxNTAqKGNvbmYubmFtZS54LzEwMCksIDE1MCooY29uZi5uYW1lLnkvMTAwKSwgMTUwKihjb25mLm5hbWUudy8xMDApLCAxNTAqKGNvbmYubmFtZS5oLzEwMCkpOwoKICAgICAgICBkcmF3R3JpZCgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNhdmVNb2RhbCgpIHsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgfQogICAgZnVuY3Rpb24gY2xvc2VNb2RhbChlKSB7IGlmKGUudGFyZ2V0LmlkPT09J21vZGFsJykgc2F2ZU1vZGFsKCk7IH0KICAgIAogICAgZnVuY3Rpb24gYXBwbHlUb0FsbCgpIHsKICAgICAgICBjb25zdCBzcmMgPSBzbG90Q29uZmlnc1thY3RpdmVTbG90XTsKICAgICAgICBzbG90Q29uZmlncyA9IHNsb3RDb25maWdzLm1hcCgoKSA9PiAoewogICAgICAgICAgICBudW06IHsgLi4uc3JjLm51bSB9LAogICAgICAgICAgICBuYW1lOiB7IC4uLnNyYy5uYW1lIH0KICAgICAgICB9KSk7CiAgICAgICAgZHJhd0dyaWQoKTsKICAgICAgICBzYXZlTW9kYWwoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpbml0Q3JhZnRpbmdVSSgpIHsKICAgICAgICBjb25zdCBzZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JhZnQtc2VsZWN0Jyk7CiAgICAgICAgQ1JBRlRBQkxFUy5mb3JFYWNoKChjLCBpKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsKICAgICAgICAgICAgby52YWx1ZSA9IGk7IAogICAgICAgICAgICBvLnRleHQgPSBgJHtjLm5hbWV9ICgke2Mub3JlQ29zdH0gb3JlcywgJHtNYXRoLnJvdW5kKGMuc3VjY2VzcyoxMDApfSUpYDsKICAgICAgICAgICAgc2VsLmFwcGVuZENoaWxkKG8pOwogICAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZEpvYigpIHsKICAgICAgICBjb25zdCBpZHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JhZnQtc2VsZWN0JykudmFsdWU7CiAgICAgICAgY29uc3Qgam9iID0geyAuLi5DUkFGVEFCTEVTW2lkeF0sIHVpZDogRGF0ZS5ub3coKSB9OwogICAgICAgIGpvYlF1ZXVlLnB1c2goam9iKTsKICAgICAgICByZW5kZXJRdWV1ZSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlbmRlclF1ZXVlKCkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqb2ItbGlzdCcpLmlubmVySFRNTCA9IGpvYlF1ZXVlLm1hcChqID0+IAogICAgICAgICAgICBgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDojMjIyOyBwYWRkaW5nOjVweDsgbWFyZ2luLWJvdHRvbTo1cHg7IGJvcmRlci1yYWRpdXM6M3B4OyBkaXNwbGF5OmZsZXg7IGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOyI+CiAgICAgICAgICAgICAgICA8c3Bhbj4ke2oubmFtZX0g4oCUICR7ai5vcmVDb3N0fSBvcmVzLCAke01hdGgucm91bmQoai5zdWNjZXNzKjEwMCl9JTwvc3Bhbj4gPHNwYW4gc3R5bGU9ImNvbG9yOnJlZDsgY3Vyc29yOnBvaW50ZXI7IiBvbmNsaWNrPSJqb2JRdWV1ZT1qb2JRdWV1ZS5maWx0ZXIoeD0+eC51aWQhPSR7ai51aWR9KTtyZW5kZXJRdWV1ZSgpIj7Dlzwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+YAogICAgICAgICkuam9pbignJyk7CiAgICB9CgogICAgZnVuY3Rpb24gY2FsY3VsYXRlQ3JhZnRpbmcoKSB7CiAgICAgICAgLy8gQWdncmVnYXRlIGR5bmFtaWMgcmVzdWx0cyBmb3IgdGhlIGNyYWZ0aW5nIGxvZ2ljCiAgICAgICAgbGV0IHBvb2wgPSB7fTsKICAgICAgICBzY2FuUmVzdWx0cy5mb3JFYWNoKHIgPT4gewogICAgICAgICAgICBpZighci5uYW1lIHx8IHIubmFtZT09PSdVbmtub3duJykgcmV0dXJuOwogICAgICAgICAgICAvLyBNYXRjaCBhZ2FpbnN0IERCIHRvIGdldCBtdWx0L2lkLCBpZiBub3QgZm91bmQgdXNlIHBsYWNlaG9sZGVycwogICAgICAgICAgICBsZXQgZGJPcmUgPSBPUkVTLmZpbmQobyA9PiBvLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gci5uYW1lLnRvTG93ZXJDYXNlKCkpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gSWYgaXRlbSBpcyBtYW51YWxseSBhZGRlZCBhbmQgbWF0Y2hlcyBEQiBuYW1lCiAgICAgICAgICAgIGlmKGRiT3JlKSB7CiAgICAgICAgICAgICAgICBpZighcG9vbFtkYk9yZS5pZF0pIHBvb2xbZGJPcmUuaWRdID0geyAuLi5kYk9yZSwgY291bnQ6IDAgfTsKICAgICAgICAgICAgICAgIHBvb2xbZGJPcmUuaWRdLmNvdW50ICs9IHIuY291bnQ7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgdW5rbm93biBpdGVtcyB2YWd1ZWx5IG9yIGp1c3QgaWdub3JlIGZvciBjYWxjdWxhdGlvbgogICAgICAgICAgICAgICAgLy8gRm9yIG5vdywgd2Ugb25seSBjYWxjdWxhdGUgd2l0aCBrbm93biBvcmVzCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgbGV0IG91dHB1dCA9ICIiOwogICAgICAgIAogICAgICAgIC8vIFVzZSBhbiBpbnZlbnRvcnkgc25hcHNob3QgZm9yIHJlc291cmNlIGRlZHVjdGlvbgogICAgICAgIGxldCBpbnZlbnRvcnlTbmFwc2hvdCA9IE9iamVjdC52YWx1ZXMocG9vbCkubWFwKGl0ZW0gPT4gKHsgLi4uaXRlbSB9KSk7CgogICAgICAgIGpvYlF1ZXVlLmZvckVhY2goam9iID0+IHsKICAgICAgICAgICAgbGV0IGZpbGxlZCA9IDA7CiAgICAgICAgICAgIGxldCByZWNpcGUgPSBbXTsKICAgICAgICAgICAgLy8gU29ydCBieSBtdWx0aXBsaWVyIChkZXNjZW5kaW5nKSB0byBwcmlvcml0aXplIHVzaW5nIGJldHRlciBvcmVzIGZpcnN0CiAgICAgICAgICAgIGNvbnN0IGF2YWlsID0gaW52ZW50b3J5U25hcHNob3Quc29ydCgoYSxiKSA9PiBiLm11bHQgLSBhLm11bHQpOwogICAgICAgICAgICAKICAgICAgICAgICAgZm9yKGxldCBvcmUgb2YgYXZhaWwpIHsKICAgICAgICAgICAgICAgIGlmKGZpbGxlZCA+PSBqb2Iub3JlQ29zdCkgYnJlYWs7CiAgICAgICAgICAgICAgICBpZihvcmUuY291bnQgPD0gMCkgY29udGludWU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxldCB0YWtlID0gTWF0aC5taW4oam9iLm9yZUNvc3QgLSBmaWxsZWQsIG9yZS5jb3VudCk7CiAgICAgICAgICAgICAgICBvcmUuY291bnQgLT0gdGFrZTsKICAgICAgICAgICAgICAgIGZpbGxlZCArPSB0YWtlOwogICAgICAgICAgICAgICAgcmVjaXBlLnB1c2goYCR7dGFrZX14ICR7b3JlLm5hbWV9YCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gRmlsdGVyIG91dCAweCByZWNpcGVzIGZvciBjbGVhbmVyIG91dHB1dAogICAgICAgICAgICBjb25zdCByZWFkYWJsZVJlY2lwZSA9IHJlY2lwZS5maWx0ZXIociA9PiAhci5zdGFydHNXaXRoKCcweCcpKTsKCiAgICAgICAgICAgIG91dHB1dCArPSBgCiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJwYWRkaW5nOiA1cHggMDsgYm9yZGVyLWJvdHRvbTogMXB4IGRvdHRlZCB2YXIoLS1ib3JkZXIpOyI+CiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBzdHlsZT0iY29sb3I6ICR7ZmlsbGVkID49IGpvYi5vcmVDb3N0ID8gJ3ZhcigtLXN1Y2Nlc3MpJyA6ICd2YXIoLS1kYW5nZXIpJ307Ij4ke2pvYi5uYW1lfTwvc3Ryb25nPiAKICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iZmxvYXQ6IHJpZ2h0OyI+JHtmaWxsZWR9LyR7am9iLm9yZUNvc3R9IHwgJHtNYXRoLnJvdW5kKGpvYi5zdWNjZXNzKjEwMCl9JTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8YnI+PHNtYWxsIHN0eWxlPSJjb2xvcjp2YXIoLS10ZXh0LW11dGVkKTsiPiR7cmVhZGFibGVSZWNpcGUuam9pbignLCAnKSB8fCAnTm8gcmVzb3VyY2VzIHVzZWQuJ308L3NtYWxsPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIGA7CiAgICAgICAgfSk7CiAgICAgICAgCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyYWZ0LXJlc3VsdHMnKS5pbm5lckhUTUwgPSBvdXRwdXQgfHwgIk5vIGtub3duIHJlc291cmNlcyBhdmFpbGFibGUuIjsKICAgIH0KPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo="))));</script>